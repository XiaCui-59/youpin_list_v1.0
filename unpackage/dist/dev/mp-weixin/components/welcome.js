(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/welcome"],{494:function(t,e,n){"use strict";n.r(e);var r=n(495),o=n(497);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n(499);var a,s=n(36),c=Object(s["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],a);c.options.__file="components/welcome.vue",e["default"]=c.exports},495:function(t,e,n){"use strict";n.r(e);var r=n(496);n.d(e,"render",(function(){return r["render"]})),n.d(e,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(e,"components",(function(){return r["components"]}))},496:function(t,e,n){"use strict";var r;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return a})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return r}));try{r={uScrollList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-scroll-list/u-scroll-list")]).then(n.bind(null,661))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.workType.slice(1)),r=t.__map(t.jobList,(function(e,n){var r=t.__get_orig(e),o=t.period.filter((function(t){return t.value==e.salary_type})),i=e.highlight&&0!=e.highlight.length,a=i?e.highlight.length:null,s=i?t.__map(e.highlight.slice(0,3),(function(n,r){var o=t.__get_orig(n),i=e.highlight.length;return{$orig:o,g3:i}})):null;return{$orig:r,g0:o,g1:i,g2:a,l1:s}}));t._isMounted||(t.e0=function(e,n){var r=arguments[arguments.length-1].currentTarget.dataset,o=r.eventParams||r["event-params"];n=o.item;return e.stopPropagation(),t.toList(n)}),t.$mp.data=Object.assign({},{$root:{l0:n,l2:r}})},i=!1,a=[];o._withStripped=!0},497:function(t,e,n){"use strict";n.r(e);var r=n(498),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},498:function(t,e,n){"use strict";(function(t){var r=n(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(30)),i=r(n(32)),a=r(n(11)),s=r(n(194)),c=n(41);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=getApp(),m={name:"welcome",props:["top","bottom","canPlay","showUserStep"],data:function(){return{menuList:[{title:"酒店连锁",text:"酒店连锁"},{title:"餐饮服务",text:"酒店连锁"},{title:"物流行业",text:"酒店连锁"},{title:"工厂用工",text:"酒店连锁"},{title:"兼职",text:"酒店连锁"}],jobList:[{project_name:"酒店保洁",worker_salary_min:3e3,worker_salary_max:5e3,worker_salary_type:"month",highlight:["包吃住","长白班","有社保"],worker_address:{address:"四川成都"}},{project_name:"酒店保洁",worker_salary_min:3e3,worker_salary_max:5e3,worker_salary_type:"month",highlight:["包吃住","长白班","有社保"],worker_address:{address:"四川成都"}}],showSureJob:!1,scrollTop:0,period:s.default.periodList,current:0,dots:2,imgUrl:d.globalData.baseImageUrl,recommendList:[],currentPlay:{project_id:"",content:"",may_ask:[],project_name:"",voice:"",worker_salary_max:"",worker_salary_min:"",worker_salary_type:""},currentPlayIndex:0,muted:!1,systemHeight:d.globalData.systemHeight,animationActive:!0,animationTimer:null,welcomeVoiceList:[d.globalData.baseImageUrl+"/worker/wel01.mp3",d.globalData.baseImageUrl+"/worker/wel02.mp3",d.globalData.baseImageUrl+"/worker/wel03.mp3"],lastClickTime:0,requestTimer:null,reConnectCount:0,mayAskCount:0,bannerImageInfo:null,bannerHeight:0,currentStep:1,firstEnd:!1,isWelcome:!0,clickProject:{project_id:"",content:"",may_ask:[],project_name:"",voice:"",worker_salary_max:"",worker_salary_min:"",worker_salary_type:""},bodyStartPoint:null,moveUp:!1}},computed:u({},(0,c.mapState)(["city","aiReady","workType","audioSwitch"])),created:function(){this.getHotProjects()},watch:{},methods:{getHotProjects:function(){var t=this;this.$request("/guest/recommend-jobs").then((function(e){0==e.code&&(t.jobList=e.data.list.slice(0,2))}))},toInvite:function(){},toChat:function(t,e){var n={msg:"",type:""};n=t?{msg:"我正在找工作，能帮我推荐一些合适的职位吗？",type:""}:{type:"",msg:"我想继续了解一下"+e.name+"(ID:"+e.id+")这个工作。"},this.$emit("sendMsg",n)},toCall:function(t){var e={type:t,job_id:"surejob"==t?this.currentPlay.project_id:""};this.$emit("tocall",e)},nextStep:function(){this.currentStep<6?this.currentStep++:(t.setStorageSync("readsteps",1),this.canPlay&&this.playWelcome(),this.$emit("closeStep"))},changeNext:function(){var t=this.recommendList.length;if(this.currentPlayIndex==t-1){var e={msg:"我正在找工作，能帮我推荐一些合适的职位吗？",type:"",job_id:""};this.$emit("sendMsg",e)}else d.globalData.Audio.stop(),this.playNext()},playFirst:function(){this.firstEnd=!0,this.isWelcome=!1,this.canPlay&&!this.muted&&this.playAudio()},playNext:function(){var t=this,e=this.recommendList.length;this.currentPlayIndex<e-1?(this.currentPlayIndex++,this.currentPlay=this.recommendList[this.currentPlayIndex]):(this.currentPlayIndex=0,this.currentPlay=this.recommendList[this.currentPlayIndex],this.currentPlayIndex++),setTimeout((function(){t.canPlay&&!t.muted&&t.playAudio()}),50)},stopInterval:function(){this.animationTimer&&(clearInterval(this.animationTimer),this.animationTimer=null,this.scrollTop=0)},handleAudio:function(){this.$emit("openCanPlay"),d.globalData.Audio.paused?this.playAudio():this.pauseAudio()},playAudio:function(){this.canPlay&&(d.globalData.Audio.src=this.currentPlay.voice,d.globalData.Audio.play(),this.muted=!1)},toPro:function(){t.navigateTo({url:"/subpkg/project_list/project_list"})},playWelcome:function(){var t=Math.floor(Math.random()*this.welcomeVoiceList.length);d.globalData.Audio.src=this.welcomeVoiceList[t],d.globalData.Audio.play(),this.muted=!1},stopAudio:function(){d.globalData.Audio.src="",d.globalData.Audio.stop()},pauseAudio:function(){d.globalData.Audio.pause(),this.muted=!0},toList:function(e){t.navigateTo({url:"/subpkg/project_list/project_list?type="+JSON.stringify(e)})},getMayAsk:function(){var t=this;return(0,i.default)(o.default.mark((function e(){var n,r;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/homepage/may_ask/"+t.currentPlay.project_id,e.prev=1,e.next=4,t.$request(n);case 4:r=e.sent,t.currentPlay.may_ask=r.data.list.may_ask,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.mayAskCount<5?(t.getMayAsk(),t.mayAskCount++):t.mayAskCount=0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getRecommend:function(){var e=this;return(0,i.default)(o.default.mark((function n(){var r,i,a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e,i={city:e.city},n.prev=2,n.next=5,e.$request("/homepage",i,"POST");case 5:a=n.sent,e.$emit("setGreetStatus"),a.data.list.length>0?(e.currentPlay=a.data.list[0],e.recommendList=a.data.list,e.showSureJob=!0,e.getMayAsk(),!e.showUserStep&&e.canPlay&&e.playWelcome()):e.$refs.myModal.showModal({title:"暂无推荐职位信息",showCancel:!1}),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),console.error("An error occurred:",n.t0),r.reConnectCount<10?(r.reConnectCount++,r.getRecommend()):t.showModal({title:"网络超时，请重新进入小程序。",showCancel:!1,success:function(e){e.confirm&&(r.reConnectCount=0,t.reLaunch({url:"/subpkg/index/index"}))}});case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},sendMsg:function(t,e){this.clickProject=u({},this.currentPlay);var n={msg:this.clickProject.project_name+"（职位id："+this.clickProject.project_id+"）"+t,type:e,job_id:this.clickProject.project_id,name:this.clickProject.project_name};this.$emit("sendMsg",n)},textAnimation:function(){var t=this;t.scrollTop=0,this.animationTimer||(this.animationTimer=setInterval((function(){t.scrollTop+=2}),300))},touchStart:function(){this.animationActive=!1},scrollLower:function(){this.animationActive&&(this.scrollTop=0)}}};e.default=m}).call(this,n(2)["default"])},499:function(t,e,n){"use strict";n.r(e);var r=n(500),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},500:function(t,e,n){}}]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/components/welcome.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/welcome-create-component',
    {
        'components/welcome-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('2')['createComponent'](__webpack_require__(494))
        })
    },
    [['components/welcome-create-component']]
]);
