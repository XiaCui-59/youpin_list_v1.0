(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/worker_mine"],{482:function(e,n,t){"use strict";t.r(n);var o=t(483),r=t(485);for(var a in r)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(a);t(487);var i,c=t(36),u=Object(c["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"4f339889",null,!1,o["components"],i);u.options.__file="components/worker_mine.vue",n["default"]=u.exports},483:function(e,n,t){"use strict";t.r(n);var o=t(484);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},484:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return i})),t.d(n,"recyclableRender",(function(){return a})),t.d(n,"components",(function(){return o}));try{o={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,422))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,413))},uGrid:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid/u-grid")]).then(t.bind(null,972))},uGridItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid-item/u-grid-item")]).then(t.bind(null,980))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement,t=(e._self._c,e.gender.filter((function(n){return n.value==e.workerInfo.gender}))),o=t[0]?e.gender.filter((function(n){return n.value==e.workerInfo.gender})):null;e.$mp.data=Object.assign({},{$root:{g0:t,g1:o}})},a=!1,i=[];r._withStripped=!0},485:function(e,n,t){"use strict";t.r(n);var o=t(486),r=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a},486:function(e,n,t){"use strict";(function(e,o){var r=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(t(30)),i=r(t(32)),c=r(t(11)),u=t(41);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,c.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(){t.e("components/showBooking").then(function(){return resolve(t(621))}.bind(null,t)).catch(t.oe)},f=getApp(),g={props:["tabbarHeight"],data:function(){return{gender:[{value:"male",text:"男"},{value:"female",text:"女"},{value:"unknown",text:"未知"}],signCount:0,viewCount:0,imgUrl:f.globalData.baseImageUrl,pageName:"我的",marginTop:f.globalData.marginTop,tabMargin:f.globalData.tabMargin,avatar:f.globalData.baseImageUrl+"/broker/com_default.png",menus:[{text:"进群找活",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu01.png",clickType:"navigate",url:"/worker/webview/webview"},{text:"关注公众号",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu02.png",clickType:"public",url:""},{text:"联系客服",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu03.png",clickType:"kefu",url:""},{text:"关于我们",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu04.png",clickType:"navigate",url:"/subpkg/about/about"}]}},components:{showBooking:d},created:function(){this.headerHeight=f.globalData.systemHeight*(214/844)},computed:l({},(0,u.mapState)(["workerInfo"])),methods:l(l({},(0,u.mapMutations)(["setToken","setRole","unConnected","unConnecting","closeAnswering","openCansend","closeAnswerContinue"])),{},{getSignList:function(){var e=this,n="/worker/job-applications?page=1&status=all";this.$request(n).then((function(n){0==n.code&&(e.signCount=n.data.pagination.total_count)}))},getViewList:function(){var e=this,n="/worker/job-browse-records?page=1";this.$request(n).then((function(n){0==n.code&&(e.viewCount=n.data.pagination.total_count)}))},handleMenuClick:function(e){switch(this.menus[e].clickType){case"navigate":this.navigate(this.menus[e].url);break;case"public":this.$refs.book.getCode();break;case"kefu":this.openKefu();break;default:break}},openKefu:function(){e.openCustomerServiceChat({extInfo:{url:"https://work.weixin.qq.com/kfid/kfc01b1c6e379607409"},corpId:"wwe3ced2e65390ad79",success:function(e){},fail:function(e){console.log(e),o.showToast({title:"请稍后重试",icon:"none"})}})},navigate:function(e){o.navigateTo({url:e})},closeLogin:function(){this.showLogin=!1},cancelLogin:function(){console.log("执行了cancel"),this.closeLogin(),o.switchTab({url:"/pages/employer_index/employer_index"})},toRelease:function(){var e=this;this.$refs.myModal.showMyModal({title:"是否确认切换到招人状态？",success:function(n){if("confirm"==n){o.showLoading({title:"切换中"}),o.removeStorageSync("token"),o.removeStorageSync("workerInfo");var t=o.getStorageSync("openid");e.unConnected(),e.unConnecting(),e.closeAnswerContinue(),e.closeAnswering(),e.openCansend();var r="/auth/ai-wechat/employer/token",a={open_id:t};e.$request(r,a,"POST").then((function(n){0==n.code?(e.setToken(n.data.token),e.setRole("employer"),o.setStorageSync("token",n.data.token),e.$store.dispatch("getEmployerInfo"),o.reLaunch({url:"/pages/employer_index/employer_index",success:function(e){console.log("跳转成功",e)},fail:function(e){console.log("跳转失败",e)},complete:function(){o.hideLoading()}})):e.$refs.myModal.showMyModal({title:n.msg})}))}}})},logout:function(){this.$refs.myModal.showMyModal({title:"确认退出登录？",success:function(e){"confirm"==e&&(o.setStorageSync("loginStatus","out"),o.switchTab({url:"/pages/worker_index/worker_index"}),o.showToast({title:"已退出登录",icon:"none",duration:2e3}))}})},loadimg:function(e,n){var t=this;return(0,i.default)(a.default.mark((function e(){var r,i;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n,"file"),r=t,i={Authorization:"bearer "+o.getStorageSync("token"),accept:"application/json","content-type":"multipart/form-data"},e.abrupt("return",new Promise((function(e,t){o.uploadFile({url:f.globalData.baseUrl+"/worker/upload/image?type=avatar",filePath:n,name:"file",header:i,success:function(e){var n=JSON.parse(e.data);if(0==n.code){o.showToast({title:"图片上传成功"});var t={avatar:n.data.key};r.$request("/worker/avatar",t,"POST").then((function(e){0==e.code&&(o.showToast({title:"头像更新成功",duration:2e3}),r.$store.dispatch("getWorkerInfo"))}))}else o.showModal({title:"上传失败",content:n.msg})},complete:function(){o.hideLoading()}}),e(r.reponsefiles)})));case 4:case"end":return e.stop()}}),e)})))()},getAvatar:function(e){console.log(e),this.loadimg("avatar",e.detail.avatarUrl)}})};n.default=g}).call(this,t(1)["default"],t(2)["default"])},487:function(e,n,t){"use strict";t.r(n);var o=t(488),r=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a},488:function(e,n,t){}}]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/components/worker_mine.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/worker_mine-create-component',
    {
        'components/worker_mine-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('2')['createComponent'](__webpack_require__(482))
        })
    },
    [['components/worker_mine-create-component']]
]);
