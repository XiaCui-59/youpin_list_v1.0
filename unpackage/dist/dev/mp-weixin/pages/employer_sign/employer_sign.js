(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/employer_sign/employer_sign"],{197:function(e,t,n){"use strict";(function(e,t){var o=n(4);n(26);o(n(25));var i=o(n(198));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n(1)["default"],n(2)["createPage"])},198:function(e,t,n){"use strict";n.r(t);var o=n(199),i=n(201);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n(203);var a,s=n(36),c=Object(s["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"05b92eec",null,!1,o["components"],a);c.options.__file="pages/employer_sign/employer_sign.vue",t["default"]=c.exports},199:function(e,t,n){"use strict";n.r(t);var o=n(200);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},200:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return o}));try{o={uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,383))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,391))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.ifSingle?null:e.list.length),o=e.ifSingle?null:e.__map(e.list,(function(t,n){var o=e.__get_orig(t),i=e.workerStatus.filter((function(e){return e.value==t.application_status}));return{$orig:o,g1:i}})),i=e.ifSingle?null:e.list.length;e.$mp.data=Object.assign({},{$root:{g0:n,l0:o,g2:i}})},r=!1,a=[];i._withStripped=!0},201:function(e,t,n){"use strict";n.r(t);var o=n(202),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},202:function(e,t,n){"use strict";(function(e){var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(30)),r=o(n(32)),a=o(n(11)),s=o(n(194)),c=n(41);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){Promise.all([n.e("common/vendor"),n.e("components/employer_login")]).then(function(){return resolve(n(355))}.bind(null,n)).catch(n.oe)},p=function(){Promise.all([n.e("common/vendor"),n.e("components/tabbar")]).then(function(){return resolve(n(362))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/custom_header").then(function(){return resolve(n(369))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/addName").then(function(){return resolve(n(376))}.bind(null,n)).catch(n.oe)},h=getApp(),b={data:function(){return{ifSingle:1154==h.globalData.scene,isPulling:!1,triggered:!1,proValue:{id:"",description:"全部"},showPicker:!1,projects:[],showLogin:!1,avatar:h.globalData.baseImageUrl+"/broker/com_default.png",imgUrl:h.globalData.baseImageUrl,pageName:"工人",marginTop:h.globalData.marginTop,mainTabHeight:h.globalData.mainTabHeight,subTabHeight:h.globalData.subTabHeight,releTopHead:h.globalData.releTopHead,tabMargin:h.globalData.tabMargin,bannerHeight:h.globalData.bannerHeight,tabs:[{value:"all",text:"全部"},{value:"hired",text:"已入职"},{value:"resigned",text:"已离职"}],currentTab:{value:"all",text:"全部"},workerStatus:s.default.workerStatus,list:[],scrollHeight:0,boxTop:0,headerHeight:h.globalData.topHeight,currentPage:1,pagination:{},tabbarHeight:0}},components:{tabbar:p,customHeader:f,login:g,addName:d},onLoad:function(){this.boxTop=this.marginTop+this.releTopHead+4.5*this.tabMargin+this.subTabHeight,this.scrollHeight=h.globalData.systemHeight-this.tabbarHeight-this.boxTop},computed:l({},(0,c.mapState)(["employerInfo","nameShow","loginStatus"])),onShow:function(){var e=this;return(0,r.default)(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isLogin()?(e.getRequireList(),e.getList()):e.showLogin=!0;case 1:case"end":return t.stop()}}),t)})))()},methods:{makePhoneCall:function(t){e.makePhoneCall({phoneNumber:t})},onPulling:function(e){console.log("onpulling",e),e.detail.deltaY<0||(this.triggered=!0)},onRefresh:function(){var e=this;this.isPulling||(this.isPulling=!0,setTimeout((function(){e.triggered=!1,e.isPulling=!1,e.getList()}),500))},onRestore:function(){this.triggered="restore"},onAbort:function(){console.error("onAbort")},depart:function(t){var n=this;e.showModal({title:"提示",content:"是否确认对员工："+t.worker_name+"进行离职操作？",confirmText:"确认离职",success:function(o){if(o.confirm){var i="/employer/jobRequirementApplication/"+t.job_application_id+"/resign";n.$request(i,{},"PATCH").then((function(t){0==t.code&&(e.showToast({title:"办理离职成功",icon:"none",duration:3e3}),n.getList())}))}}})},closePicker:function(){this.showPicker=!1},confirmProject:function(e){console.log(e),this.proValue=e.value[0],this.currentPage=1,this.getList(),this.closePicker()},openPicker:function(){this.showPicker=!0},cancelLogin:function(){this.closeLogin(),e.switchTab({url:"/pages/employer_index/employer_index"})},closeLogin:function(){this.showLogin=!1},getRequireList:function(){var e=this,t="/employer/jobRequirements?page=1&status="+this.currentTab.value;this.$request(t).then((function(t){if(0==t.code){var n=[{id:"",description:"全部"}];e.projects[0]=n.concat(t.data.list)}}))},getTabbarHeight:function(e){this.tabbarHeight=e},changeTab:function(e){this.currentTab=e,this.currentPage=1,this.getList()},getMore:function(){var e=this,t="全部"==this.proValue.description?"":this.proValue.description,n="/employer/jobRequirementApplications?page="+this.currentPage+"&application_status="+this.currentTab.value+"&keyword="+t+"&requirement_status=all";this.$request(n).then((function(t){0==t.code&&(e.list=e.list.concat(t.data.list),e.pagination=t.data.pagination)}))},getList:function(){var e=this,t="全部"==this.proValue.description?"":this.proValue.description,n="/employer/jobRequirementApplications?page=1&application_status="+this.currentTab.value+"&keyword="+t+"&requirement_status=all";this.$request(n).then((function(t){0==t.code&&(e.list=t.data.list,e.pagination=t.data.pagination)}))},lower:function(){this.list.length<this.pagination.total_count?(this.currentPage++,this.getMore()):this.list.length>=this.pagination.total_count&&e.showToast({title:"已经到底啦~",icon:"none",duration:2e3})}}};t.default=b}).call(this,n(2)["default"])},203:function(e,t,n){"use strict";n.r(t);var o=n(204),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},204:function(e,t,n){}},[[197,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/employer_sign/employer_sign.js.map