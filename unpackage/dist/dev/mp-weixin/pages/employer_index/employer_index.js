(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/employer_index/employer_index"],{188:function(e,t,n){"use strict";(function(e,t){var i=n(4);n(26);i(n(25));var o=i(n(189));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},189:function(e,t,n){"use strict";n.r(t);var i=n(190),o=n(192);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n(195);var a,s=n(36),l=Object(s["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,"6c0a6b06",null,!1,i["components"],a);l.options.__file="pages/employer_index/employer_index.vue",t["default"]=l.exports},190:function(e,t,n){"use strict";n.r(t);var i=n(191);n.d(t,"render",(function(){return i["render"]})),n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(t,"components",(function(){return i["components"]}))},191:function(e,t,n){"use strict";var i;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return i}));var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.ifSingle?null:e.list.length),i=e.ifSingle?null:e.__map(e.list,(function(t,n){var i=e.__get_orig(t),o=e.list.length,r=0!=o?e.periodList.filter((function(e){return e.value==t.employer_settlement_unit})):null;return{$orig:i,g1:o,g2:r}})),o=e.ifSingle?null:e.list.length,r=!e.ifSingle&&e.showMask?Number(e.orderInfo.available_amount):null,a=!e.ifSingle&&e.showMask?Number(e.orderInfo.need_pay):null,s=!e.ifSingle&&e.showMask?Number(e.orderInfo.available_amount):null,l=!e.ifSingle&&e.showMask?Number(e.orderInfo.need_pay):null;e.$mp.data=Object.assign({},{$root:{g0:n,l0:i,g3:o,m0:r,m1:a,m2:s,m3:l}})},r=!1,a=[];o._withStripped=!0},192:function(e,t,n){"use strict";n.r(t);var i=n(193),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},193:function(e,t,n){"use strict";(function(e){var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(11)),r=i(n(194)),a=n(41);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){Promise.all([n.e("common/vendor"),n.e("components/employer_login")]).then(function(){return resolve(n(355))}.bind(null,n)).catch(n.oe)},u=function(){Promise.all([n.e("common/vendor"),n.e("components/tabbar")]).then(function(){return resolve(n(362))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/custom_header").then(function(){return resolve(n(369))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/addName").then(function(){return resolve(n(376))}.bind(null,n)).catch(n.oe)},f=getApp(),d={data:function(){return{ifSingle:1154==f.globalData.scene,btnStatus2:!0,showMask:!1,showLogin:!1,avatar:f.globalData.baseImageUrl+"/broker/com_default.png",imgUrl:f.globalData.baseImageUrl,pageName:"灵动优聘",marginTop:f.globalData.marginTop,mainTabHeight:f.globalData.mainTabHeight,subTabHeight:f.globalData.subTabHeight,tabMargin:f.globalData.tabMargin,bannerHeight:f.globalData.bannerHeight,tabs:r.default.requireStatus,currentTab:{value:"all",text:"全部"},list:[],scrollHeight:0,boxTop:0,headerHeight:f.globalData.highTopHeight,currentPage:1,pagination:{},tabbarHeight:0,periodList:r.default.periodList,orderInfo:{available_amount:"",need_pay:""},currentRecord:{}}},components:{tabbar:u,customHeader:h,login:c,addName:g},computed:l({},(0,a.mapState)(["employerInfo","nameShow","loginStatus"])),onLoad:function(){this.boxTop=this.marginTop+this.bannerHeight+3*this.tabMargin+this.subTabHeight,this.scrollHeight=f.globalData.systemHeight-this.marginTop-this.subTabHeight-3*this.tabMargin-this.tabbarHeight-this.bannerHeight},onShow:function(){console.log("ifSingle",this.ifSingle),this.ifSingle||this.isLogin()&&this.getList()},methods:{closeLogin:function(){this.showLogin=!1},toadd:function(){this.isLogin()?e.navigateTo({url:"/employer/release/release"}):this.showLogin=!0},toClose:function(t){var n=this;e.showModal({title:"提示",content:"是否确认关闭需求："+t.description.slice(0,10)+"？",confirmText:"确认关闭",success:function(i){if(i.confirm){var o="/employer/jobRequirement/"+t.id+"/finish";n.$request(o,{},"PATCH").then((function(t){0==t.code&&(e.showToast({title:"需求关闭成功",icon:"none",duration:3e3}),n.getList())}))}}})},reOpen:function(t){e.navigateTo({url:"/employer/release/release?id="+t.id})},getTabbarHeight:function(e){this.tabbarHeight=e},changeTab:function(e){console.log("isLogin：",this.isLogin()),this.isLogin()?(this.currentTab=e,this.currentPage=1,this.getList()):this.showLogin=!0},toDetail:function(t){e.navigateTo({url:"/employer/project_detail/project_detail?id="+t})},getMore:function(){var e=this,t="/employer/jobRequirements?page="+this.currentPage+"&status="+this.currentTab.value;this.$request(t).then((function(t){0==t.code&&(e.list=e.list.concat(t.data.list),e.pagination=t.data.pagination)}))},getList:function(){var e=this,t="/employer/jobRequirements?page=1&status="+this.currentTab.value;this.$request(t).then((function(t){0==t.code&&(e.list=t.data.list,e.pagination=t.data.pagination)}))},closeMask:function(){this.showMask=!1},toPay:function(){var t=this;if(this.btnStatus2){this.btnStatus2=!1;var n="/employer/jobRequirement/"+this.currentRecord.id+"/pay";this.$request(n,{},"POST").then((function(n){0==n.code&&(t.showMask=!1,t.btnStatus2=!0,e.navigateTo({url:"/employer/release_success/release_success?id="+t.currentRecord.id}))}))}else e.showToast({title:"请勿重复点击",icon:"error"})},openCheck:function(e){this.currentRecord=l({},e),this.checkBalance(e)},checkBalance:function(e){var t=this,n=e?e.id:this.currentRecord.id,i="/employer/preCheckBanlance/"+n;this.$request(i).then((function(e){0==e.code&&(t.showMask=!0,t.orderInfo=e.data)}))},toRecharge:function(){e.navigateTo({url:"/employer/recharge/recharge"})},lower:function(){this.list.length<this.pagination.total_count?(this.currentPage++,this.getMore()):this.list.length>=this.pagination.total_count&&e.showToast({title:"已经到底啦~",icon:"none",duration:2e3})}}};t.default=d}).call(this,n(2)["default"])},195:function(e,t,n){"use strict";n.r(t);var i=n(196),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},196:function(e,t,n){}},[[188,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/employer_index/employer_index.js.map