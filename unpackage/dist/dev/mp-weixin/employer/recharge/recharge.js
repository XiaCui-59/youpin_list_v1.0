(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["employer/recharge/recharge"],{340:function(e,n,t){"use strict";(function(e,n){var r=t(4);t(26);r(t(25));var o=r(t(341));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t(1)["default"],t(2)["createPage"])},341:function(e,n,t){"use strict";t.r(n);var r=t(342),o=t(344);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);t(346);var i,c=t(36),u=Object(c["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,"c882556e",null,!1,r["components"],i);u.options.__file="employer/recharge/recharge.vue",n["default"]=u.exports},342:function(e,n,t){"use strict";t.r(n);var r=t(343);t.d(n,"render",(function(){return r["render"]})),t.d(n,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(n,"components",(function(){return r["components"]}))},343:function(e,n,t){"use strict";var r;t.r(n),t.d(n,"render",(function(){return o})),t.d(n,"staticRenderFns",(function(){return i})),t.d(n,"recyclableRender",(function(){return a})),t.d(n,"components",(function(){return r}));try{r={"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,561))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.ifSingle?null:e.__map(e.priceList,(function(n,t){var r=e.__get_orig(n),o=Number(e.price);return{$orig:r,m0:o}})));e.$mp.data=Object.assign({},{$root:{l0:t}})},a=!1,i=[];o._withStripped=!0},344:function(e,n,t){"use strict";t.r(n);var r=t(345),o=t.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(a);n["default"]=o.a},345:function(e,n,t){"use strict";(function(e){var r=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;r(t(194));var o=function(){Promise.all([t.e("common/vendor"),t.e("components/employer_login")]).then(function(){return resolve(t(377))}.bind(null,t)).catch(t.oe)},a=function(){t.e("components/custom_header").then(function(){return resolve(t(391))}.bind(null,t)).catch(t.oe)},i=getApp(),c={data:function(){return{ifSingle:1154==i.globalData.scene,btnStatus:!0,imgUrl:i.globalData.baseImageUrl,pageName:"充值",marginTop:i.globalData.marginTop,subTabHeight:i.globalData.subTabHeight,tabMargin:i.globalData.tabMargin,headerHeight:i.globalData.topHeight,boxTop:0,price:"",priceList:[{value:100,text:"100元"},{value:200,text:"200元"},{value:300,text:"300元"},{value:500,text:"500元"},{value:1e3,text:"1000元"},{value:2e3,text:"2000元"}]}},components:{customHeader:a,login:o},onLoad:function(){this.isLogin()?this.boxTop=this.marginTop+this.tabMargin:e.switchTab({url:"/pages/employer_index/employer_index"})},methods:{changePrice:function(e){this.price=e.value},sureRecharge:function(){var n=this;if(this.price)if(this.btnStatus){e.showLoading(),this.btnStatus=!1;var t={amount:this.price,payment_method:"wechat_mini_program"};this.$request("/employer/recharges",t,"POST").then((function(t){e.hideLoading(),0==t.code&&n.surePay(t.data.order_id)}))}else e.showToast({title:"请勿重复点击",icon:"error"});else e.showToast({title:"请输入充值金额",icon:"error"})},surePay:function(n){var t=this,r="/employer/orders/"+n+"/pay";this.$request(r,{},"POST").then((function(n){if(0==n.code){var r=n.data.wechat_mini_program;e.requestPayment({appId:r.appId,timeStamp:r.timeStamp,nonceStr:r.nonceStr,package:r.package,signType:r.signType,paySign:r.paySign,success:function(){e.showModal({title:"支付成功",showCancel:!1,success:function(e){e.confirm&&t.back()}})},fail:function(n){console.log(n,"err"),e.showToast({title:"支付已取消",icon:"error",duration:2e3})},complete:function(){t.btnStatus=!0}})}}))},back:function(){e.navigateBack();var n=getCurrentPages(),t=n[n.length-2];console.log(t),t&&(-1!=t.route.indexOf("release")||-1!=t.route.indexOf("project_detail")||-1!=t.route.indexOf("employer_index"))&&t.$vm&&t.$vm.checkBalance&&t.$vm.checkBalance()}}};n.default=c}).call(this,t(2)["default"])},346:function(e,n,t){"use strict";t.r(n);var r=t(347),o=t.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(a);n["default"]=o.a},347:function(e,n,t){}},[[340,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/employer/recharge/recharge.js.map