{"version":3,"sources":["webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/uni_modules/markdown-render/components/markdown-render/markdown-render.vue?0088","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/uni_modules/markdown-render/components/markdown-render/markdown-render.vue?ec01","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/uni_modules/markdown-render/components/markdown-render/markdown-render.vue?2e97","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/uni_modules/markdown-render/components/markdown-render/markdown-render.vue?7198","uni-app:///uni_modules/markdown-render/components/markdown-render/markdown-render.vue","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/uni_modules/markdown-render/components/markdown-render/markdown-render.vue?1d17"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","html","highlight","preCode","console","map","join","codeDataList","htmlCode","markdownIt","name","props","showCursor","type","default","sourceMdContent","data","computed","nodes","htmlString","methods","codeCopy","e","attrs","index","className","class","href","uni","showToast","success","title","icon"],"mappings":"uKAAA,oIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,6EACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAAyqB,eAAG,G,2HCS5qB,gBACA,YAEA,GADA,UACA,WACA,KACA,iBACAC,QACAC,wBACA,SACA,IACAC,mCACA,SACAC,qBACAD,wBAGA,gCAEA,IACAE,mBAEA,YACA,GAEA,uDAEAC,SACAL,8CAGAM,UACA,uGAWA,OAHAC,+HACAP,mBACAO,YACA,KAIAC,iBAAA,MAEA,CACAC,uBACAC,OAEAC,YACAC,aACAC,mBACA,WAGAC,iBACAF,YACAC,mBACA,YAIAE,gBACA,UAEAC,UACAC,iBACA,yBAGA,SACA,+CACA,2BACA,sBACAH,SAEAA,mCACAI,mBAEAA,oEAcA,OAVAA,oDACAA,8CACAA,yEACAA,2DACAA,uDAEAA,kDAAA,uBACA,qCAGA,KAKAC,SACAC,qBAEA,MAGAC,cAFAZ,SACAa,UAGAC,EAGAD,EAHA,mBACAE,EAEAF,EAFAG,MAEAH,EADAI,KAEA,QAWA,eACAC,oBACAZ,UACAa,aACAC,mBACAF,aACAG,aACAC,uBAQA,c,6DCpJA,yHAA88B,eAAG,G","file":"uni_modules/markdown-render/components/markdown-render/markdown-render.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./markdown-render.vue?vue&type=template&id=0b27b560&\"\nvar renderjs\nimport script from \"./markdown-render.vue?vue&type=script&lang=js&\"\nexport * from \"./markdown-render.vue?vue&type=script&lang=js&\"\nimport style0 from \"./markdown-render.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/markdown-render/components/markdown-render/markdown-render.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./markdown-render.vue?vue&type=template&id=0b27b560&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./markdown-render.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./markdown-render.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"rich-content\" :class=\"{ 'show-cursor': showCursor }\" ref=\"rich-content\">\r\n\t\t\t<rich-text space=\"nbsp\" :nodes=\"nodes\" @itemclick=\"codeCopy\"></rich-text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport MarkdownIt from '../../static/js/markdown-it.min.js';\r\n\timport hljs from '../../static/js/highlight.min.js';\r\n\timport parseHtml from '../../static/js/html-parser.js';\r\n\timport MarkdownItEmoji from '../../static/js/markdown-it-emoji.min.js';\r\n\tlet codeDataList = [];\r\n\tconst markdownIt = MarkdownIt({\r\n\t\thtml: true,\r\n\t\thighlight: function(str, lang) {\r\n\t\t\tlet preCode = '';\r\n\t\t\ttry {\r\n\t\t\t\tpreCode = hljs.highlightAuto(str).value;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log('err', err);\r\n\t\t\t\tpreCode = markdownIt.utils.escapeHtml(str);\r\n\t\t\t}\r\n\t\t\t// 以换行进行分割\r\n\t\t\tconst lines = preCode.split(/\\n/).slice(0, -1);\r\n\t\t\t// 添加自定义行号\r\n\t\t\tlet html = lines\r\n\t\t\t\t.map((item, index) => {\r\n\t\t\t\t\t// 去掉空行\r\n\t\t\t\t\tif (item == '') {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn '<li><span data-line=\"' + (index + 1) + '\"></span>' + item + '</li>';\r\n\t\t\t\t})\r\n\t\t\t\t.join('');\r\n\t\t\thtml = '<ol style=\"padding: 0px 30px;\">' + html + '</ol>';\r\n\r\n\t\t\t// 代码复制\r\n\t\t\tcodeDataList.push(str);\r\n\t\t\tlet htmlCode =\r\n\t\t\t\t`<div style=\"background:#0d1117;margin-top: 5px;color: #888;padding:5px 0;border-radius: 5px;\">`; // 外面一层元素背景色要跟代码块保持一致\r\n\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\thtmlCode += `<div style=\"text-align: end;font-size: 12px;\">`;\r\n\t\t\thtmlCode +=\r\n\t\t\t\t`${lang}<a class=\"copy-btn\" code-data-index=\"${codeDataList.length - 1}\" style=\"cursor: pointer;\"> 复制代码 </a>`;\r\n\t\t\thtmlCode += `</div>`;\r\n\t\t\t// #endif\r\n\t\t\thtmlCode +=\r\n\t\t\t\t`<pre class=\"hljs\" style=\"padding:0 8px;margin-bottom:5px;overflow: auto;display: block;border-radius: 5px;\"><code>${html}</code></pre>`;\r\n\t\t\thtmlCode += '</div>';\r\n\t\t\treturn htmlCode;\r\n\t\t}\r\n\t});\r\n\t// Emoji表情\r\n\tmarkdownIt.use(MarkdownItEmoji);\r\n\r\n\texport default {\r\n\t\tname: 'markdown-render',\r\n\t\tprops: {\r\n\t\t\t// 显示闪烁的效果\r\n\t\t\tshowCursor: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsourceMdContent: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tnodes() {\r\n\t\t\t\tif (!this.sourceMdContent) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet htmlString = '';\r\n\t\t\t\tif (this.sourceMdContent.split('```').length % 2) {\r\n\t\t\t\t\tlet sourceMdContent = this.sourceMdContent;\r\n\t\t\t\t\tif (sourceMdContent[sourceMdContent.length - 1] != '\\n') {\r\n\t\t\t\t\t\tsourceMdContent += '\\n';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceMdContent += ' <span class=\"cursor\"></span>';\r\n\t\t\t\t\thtmlString = markdownIt.render(sourceMdContent);\r\n\t\t\t\t} else {\r\n\t\t\t\t\thtmlString = markdownIt.render(this.sourceMdContent) + ' \\n <span class=\"cursor\"></span>';\r\n\t\t\t\t}\r\n\t\t\t\t// 微信小程序里面代码块需要自定义类名才可以更改样式\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\thtmlString = htmlString.replace(/\\<img/gi, '<img class=\"my-custom-img\"');\r\n\t\t\t\thtmlString = htmlString.replace(/\\<a/gi, '<a class=\"my-custom-a\"');\r\n\t\t\t\thtmlString = htmlString.replace(/\\<blockquote/gi, '<blockquote class=\"my-custom-blockquote\"');\r\n\t\t\t\thtmlString = htmlString.replace(/\\<table/gi, '<table  class=\"my-custom-table\"');\r\n\t\t\t\thtmlString = htmlString.replace(/\\<td/gi, '<td class=\"my-custom-table-td\"');\r\n\t\t\t\t// 只替换<th标签，不替换 thead\r\n\t\t\t\thtmlString = htmlString.replace(/(?!.*<thead>)(.*?)<th/g, (match) => match.replace('<th',\r\n\t\t\t\t\t'<th class=\"my-custom-table-th\"'));\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\treturn htmlString;\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tcodeCopy(e) {\r\n\t\t\t\t// 拦截点击事件（只支持 a、img标签，并且H5 (3.2.13+)、App-Vue (3.2.13+)才支持这个事件\r\n\t\t\t\tlet {\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tattrs\r\n\t\t\t\t} = e.detail.node;\r\n\t\t\t\tlet {\r\n\t\t\t\t\t'code-data-index': index,\r\n\t\t\t\t\tclass: className,\r\n\t\t\t\t\thref\r\n\t\t\t\t} = attrs;\r\n\t\t\t\tif (name == 'a') {\r\n\t\t\t\t\tif (href) {\r\n\t\t\t\t\t\t// 点击是a标签且有href,就在浏览器打开预览链接\r\n\t\t\t\t\t\t// #ifdef APP-VUE\r\n\t\t\t\t\t\tplus.runtime.openURL(href);\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\twindow.open(href);\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 点击元素的 className 是复制代码按钮才复制\r\n\t\t\t\t\tif (className == 'copy-btn') {\r\n\t\t\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\t\t\tdata: codeDataList[index],\r\n\t\t\t\t\t\t\tshowToast: false,\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '复制成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t@import '../../static/css/github-dark.min.css';\r\n\r\n\t.rich-content ::v-deep li,\r\n\t.rich-content ::v-deep ul {\r\n\t\tmargin-left: 0 !important;\r\n\t\tpadding-left: 0 !important;\r\n\t\ttext-indent: 0 !important;\r\n\t}\r\n\r\n\t/* .my-custom- 开头的类名都是兼容小程序用的 */\r\n\r\n\t/* #ifndef APP-NVUE */\r\n\t.content {\r\n\t\toverflow: hidden;\r\n\t\t/* padding: 0 10px; */\r\n\t}\r\n\r\n\t/* 代码高亮样式修改 */\r\n\t.rich-content ::v-deep pre.hljs {\r\n\t\tpadding: 5px 8px;\r\n\t\tmargin: 5px 0;\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t/* 表格样式修改 start */\r\n\t.rich-content ::v-deep table,\r\n\t.my-custom-table {\r\n\t\tborder-spacing: 0;\r\n\t}\r\n\r\n\t.rich-content ::v-deep .my-custom-table .my-custom-table-th,\r\n\t.rich-content ::v-deep .my-custom-table .my-custom-table-td {\r\n\t\tborder: 1px solid #666;\r\n\t\tpadding: 3px 5px;\r\n\t}\r\n\r\n\t.rich-content ::v-deep th {\r\n\t\tborder: 1px solid #666;\r\n\t\tpadding: 3px 5px;\r\n\t}\r\n\r\n\t.rich-content ::v-deep td {\r\n\t\tborder: 1px solid #666;\r\n\t\tpadding: 3px 5px;\r\n\t}\r\n\r\n\t/* 表格样式修改 end */\r\n\r\n\t/* a标签样式修改 */\r\n\t.rich-content ::v-deep a,\r\n\t.my-custom-a {\r\n\t\tcolor: #1890ff;\r\n\t}\r\n\r\n\t/* 图片样式修改 */\r\n\t.rich-content ::v-deep img,\r\n\t.my-custom-img {\r\n\t\tmax-width: 100%;\r\n\t}\r\n\r\n\t/* 引用样式修改 */\r\n\t.rich-content ::v-deep blockquote,\r\n\t.my-custom-blockquote {\r\n\t\tdisplay: block;\r\n\t\tpadding: 10px 5px;\r\n\t\tborder-left: 8px solid #dddfe4;\r\n\t\tbackground-color: #eef0f4;\r\n\t\toverflow: auto;\r\n\t\tword-break: normal;\r\n\t}\r\n\r\n\t.cursor {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.show-cursor .cursor {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 12px;\r\n\t\theight: 12px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #222;\r\n\t\tanimation: bibibili 1s infinite;\r\n\t}\r\n\r\n\t/* 闪烁 */\r\n\t@keyframes bibibili {\r\n\t\tfrom {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t/* #endif */\r\n</style>","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./markdown-render.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./markdown-render.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}