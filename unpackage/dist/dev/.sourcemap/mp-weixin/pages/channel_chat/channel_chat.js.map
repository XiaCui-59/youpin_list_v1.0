{"version":3,"sources":["uni-app:///main.js","webpack:///E:/项目文件/发薪平台/fengling3.0_250327/pages/channel_chat/channel_chat.vue?3279","webpack:///E:/项目文件/发薪平台/fengling3.0_250327/pages/channel_chat/channel_chat.vue?fefe","webpack:///E:/项目文件/发薪平台/fengling3.0_250327/pages/channel_chat/channel_chat.vue?fdee","webpack:///E:/项目文件/发薪平台/fengling3.0_250327/pages/channel_chat/channel_chat.vue?77f4","uni-app:///pages/channel_chat/channel_chat.vue","webpack:///E:/项目文件/发薪平台/fengling3.0_250327/pages/channel_chat/channel_chat.vue?c6aa","webpack:///E:/项目文件/发薪平台/fengling3.0_250327/pages/channel_chat/channel_chat.vue?4b84"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","showFlMask","greetingObj","logo","title","content","showSend","newUser","ifSingle","menuButtonInfo","manager","imgUrl","statusBarHeight","botSafe","userInfo","is_vip","showVoice","inputing","voicePermisson","showLogin","shareId","params","openid","startPoint","cancelRecord","touchStartTime","touchEndTime","secondTimer","num","hold","placeHolder","question","historyList","historyId","loadAllHistory","inputHeight","chatScrollHeight","btnInfo","channel_info","key","url","name","id","scrollStr","jobId","computed","onLoad","uni","frontColor","backgroundColor","commonMethods","console","scanId","_this","onShow","onHide","mounted","components","login","chat","flMask","watch","methods","onInput","handleGreeting","msg","showData","origin","msg_type","listenKeyBoard","height","back","toCall","status","job_id","scope","success","fail","showCancel","confirmText","complete","clickFengling","closeFengling","getHistory","newArr","resolve","getInfo","getMoreHistory","icon","duration","setTimeout","handleList","arr","navigate","sendBtnMsg","strArr","random","handleBtnMsg","inputBindFocus","initRecord","clearInterval","handleRecorder","tempFilePath","filePath","mergedArray","offset","voice","media","second","anmitionPlay","showTranIcon","showTranlate","showTransing","stringToUint8Array","send","app","job_channel_id","doSend","e","sendQuestion","handleTouchMove","noInput","resetData","formatResultStr","speeking","plugin","lang","dataUrl","close","startRecord","getSetting","stopRecord","cancelVoice","handleClick","openSetting","changeChatMethod"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAwnB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC0F5oB;AACA;AACA;AAGA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAnC;UACAoC;UACAC;QACA;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC,4BACA,sGACA,iBACA,EACA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACAC;gBACAC;gBACAC;cACA;cACA;cAAA;cAAA,OACA;YAAA;cAAA;cACA;cACA;cACA;cACA;cACA;cACA;cAAA;cAAA,OACAC;YAAA;cAAA;cACA;gBACA;gBACA;cACA;cACAC;cACA;cACAC;cAEA;cACA;cACA;cACA;cACAD;cACA;cACA;cACAE;cACA;cACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cACA;cACAP;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAQ;IACAR;EACA;EACAS;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA9B;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EACA+B,yCACA,wGACA,0CACA,mGACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACAC;gBACAC;kBACA7D;kBACA8D;kBACAC;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;QACA;QACA;MACA;QACA,sFACAC,SACA;MACA;IACA;IACAC;MACAxB;IACA;IACAyB;MACA;MACA;MACA;QACA;QACAC;QACAC;MACA;MACA;MACA;MACA3B;QACA4B;QACAC;UACA;UACAvB;UACAN;YACAP;UACA;QACA;QACAqC;UACA;UACAxB;UACAF;UACAE;YACAjD;YACA0E;YACAC;YACAH;cACA;gBACA7B;kBACA6B;oBACA;oBACA;sBACAvB;sBACAN;wBACAP,8CACAiC;sBACA;oBACA;kBACA;kBACAI;oBACA1B;oBACAE;kBACA;gBACA;cACA;YACA;UACA;QACA;QACA2B;UACAjC;QACA;MACA;IACA;IACAkC;MACA;MACA;QACA7E;QACA0E;QACAC;MACA;IACA;IACAG;MACA;IACA;IACAC;MACApC;MACA;MACA;QACA,gGACAT,aACAI;QACAW;UACA;YACAN;YACA;cACA;cACAM;YACA;cACAA;YACA;YACA;YACA;YACA;cACAA;YACA;YACA+B;YACAC;UACA;QACA;MACA;IAEA;IACAC;MAAA;MACA;QACA;UACAvC;UACAA;UACA;QACA;MACA;IACA;IACAwC;MAAA;MACA;MACA;QACA;UACA;YACA;YACA;UACA;YACA;UACA;QACA;QACAxC;QACA,8FACAT;QACA;UACA;YACA;YACAS;YACA;YACA;cACA;cACA;cACA;cACA;cACA;YACA;cACA;YACA;UACA;YACA;UACA;QACA;MACA;QACAA;UACA3C;UACAoF;UACAC;QACA;QACAC;UACArC;QACA;MACA;IAEA;IACA;IACAsC;MACA;MACA;QACA;UACA;UACAC;UACAA;UACAA;QACA;MACA;MACAzC;MACA;IACA;IACA0C;MACA9C;QACAP;MACA;IACA;IACAsD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACA/C;kBACA3C;kBACAoF;kBACAC;gBACA;gBAAA;cAAA;gBAGA;gBACA;kBACA;kBACAM;kBACAA;kBACAA;kBACAA;kBACAA;kBACAA;kBACAC;kBACA;gBACA;kBACA;gBACA;gBAEA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;QACA5C;UACA;QACA;UACA;YACAgC;UACA;YACAA;UACA;QACA;MACA;IACA;IACAa;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAhD;QACA;MACA;MACA;MACA;QACA;QACAA;QACA;QACAiD;QACAjD;QACA;UACA;QACA;UACAJ;YACA3C;YACAoF;UACA;QACA;MAEA;MACA;QACA;QACA;QACAY;QACAjD;MACA;IACA;IACA;IACAkD,8CAGA;MAAA,IAFAC;QACAb;MAEA;MACAtC;MACAA;MACA;QACAJ;UACA3C;UACAoF;UACAC;QACA;QACA;MACA;MACA;MACA;QACA9F;UACA4G;UACA3B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA,6EACA,QACAvB;YACA;YACAF;YACA;YACA;YACA;YACA;YACA;YACA;YACAqD;YACAC;YAEAD;YACA;YACA;cACA9D;cACArC;cACA8D;cACAC;cACAsC;gBACAC;kBACApE;kBACAC;gBACA;gBACAoE;gBACAC;cACA;cACAC;cACAC;cACAC;YACA;YACA3D;YACA;UACA;;UACAwB;YACA1B;UACA;QACA;MACA;QACA;MACA;;MAGA;IACA;IACA8D;MACA;MACA;MACA;MACA;QACArB;MACA;MACA;IACA;IACAsB;MACA;MACA;MACA/D;MACA;QACA;UACA/C;UACA0E;UACAC;QACA;QACA;MACA;MACA;QACA;MACA;QACA;QACA;UACAhC;QACA;QACA;QACA;QACA;QACAoE;UACAnH;YACAK;YACA+G;YACA1C;UACA;UACAE;YACAvB;YACAA;YACAA;YACAF;YACA;cACA;gBACA;gBACAE;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAN;gBACA;cACA;YAEA;UAEA;UACA8B;YACAxB;YACAF;UACA;QACA;MACA;IAEA;IACAkE;MACA;MACA;QACA;QACA;MACA;QACA;QACA;UACA;UACA;UACA;UACAC;QACA;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;QACA;QACA;UACAlH;UACA8D;UACAC;QACA;QACA;MACA;IACA;IACAoD;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACApE;MACA;IACA;IACAqE;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACAzE;MACA0E;QACAC;QACAzH;QACAuE;UACA;YACAzB;YACAxD;cACAoI;cACA3H;YACA;UACA;YACA+C;UACA;QACA;QACA0B;UACA1B;QACA;MACA;IACA;IACA6E;MACA;QACA;QACAb;MACA;IACA;IACAc;MACA;MACA;MACA;QACAlF;UACA3C;UACAoF;UACAC;QACA;QACA;MACA;MACA;QACA;QACA;UACApC;UACAA;UACA;UACA;UACA;UACA;UACAN;YACA6B;cACAzB;YACA;UACA;UACAE;UACA;UACAA;UACAA;YACAoC;YACAqC;UACA;QACA;UACA/E;YACA4B;YACAC;cACAzB;cACAE;YACA;YACAwB;cACA;cACAxB;cACAF;YAEA;UACA;QACA;MAEA;IAEA;IACA+E;MACA;MACAnF;QACA6B;UACA;YACAzB;YACAE;YACA;UACA;YACAF;YACAE;YACA;UACA;QACA;QACAwB;UACA1B;QACA;MACA;IACA;IACAgF;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;QACAzC;UACArC;QACA;MACA;IAGA;IACA;IACA+E;MACAjF;MACA;MACA;MACA;IACA;IACAkF;MACAlF;IACA;IACAmF;MACA;MACA;MACA;QACAvF;UACA6B;YACAzB;YACA;cACAE;YACA;UACA;UACAwB;YACA1B;YACAE;UACA;QACA;MACA;QACAN;UACA4B;UACAC;YACAzB;YACAE;UACA;UACAwB;YACA;YACAxB;YACAF;UACA;UACA6B;YACAjC;UACA;QACA;MACA;IAGA;IACAwF;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;AC71BA;AAAA;AAAA;AAAA;AAA+qC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACAnsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/channel_chat/channel_chat.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/channel_chat/channel_chat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./channel_chat.vue?vue&type=template&id=581e4ef4&\"\nvar renderjs\nimport script from \"./channel_chat.vue?vue&type=script&lang=js&\"\nexport * from \"./channel_chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./channel_chat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/channel_chat/channel_chat.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./channel_chat.vue?vue&type=template&id=581e4ef4&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-navbar/u-navbar\" */ \"@/uni_modules/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./channel_chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./channel_chat.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"single_page\" v-if=\"ifSingle\">\r\n\t\t<image :src=\"imgUrl+'/worker/single_page.png'\" mode=\"widthFix\" style=\"width: 100%;\"></image>\r\n\t</view>\r\n\t<view class=\"home_page\" v-else>\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<view class=\"navbar\">\r\n\t\t\t<u-navbar :safeAreaInsetTop=\"true\" bgColor=\"rgba(255, 255, 255, 0.25)\">\r\n\t\t\t\t<view class=\"u-nav-slot flex flex-start\" slot=\"left\">\r\n\t\t\t\t\t<u-icon name=\"arrow-left\" size=\"21\" @click.stop=\"back\"></u-icon>\r\n\t\t\t\t\t<view class=\"title_wrap flex flex-start\">\r\n\t\t\t\t\t\t<image :src=\"channel_info.logo.url?channel_info.logo.url:imgUrl+'/worker/channel_default.png'\"\r\n\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<view class=\"\">{{channel_info.name}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-navbar>\r\n\t\t</view>\r\n\t\t<view class=\"main_box\">\r\n\t\t\t<!-- 对话页 -->\r\n\t\t\t<chat ref=\"chat\" :top=\"statusBarHeight+44\" :bottom=\"botSafe\" :historyList=\"historyList\"\r\n\t\t\t\t:qaList=\"channelQaList\" :scrollHeight=\"chatScrollHeight\" :answering=\"answering\"\r\n\t\t\t\t:answerContinue=\"answerContinue\" :greetingObj=\"greetingObj\" :scrollStr=\"scrollStr\" @sendMsg=\"sendBtnMsg\"\r\n\t\t\t\t@moreHis=\"getMoreHistory\" @tocall=\"toCall\">\r\n\t\t\t</chat>\r\n\t\t</view>\r\n\t\t<view class=\"input_btn_wrap\"\r\n\t\t\t:style=\"{bottom:inputHeight?inputHeight+10+'px':'65rpx',background:inputing?(cancelRecord?'#fe697f':'#216ff9'):'#fff'}\"\r\n\t\t\t:class=\"inputHeight?'upper':''\">\r\n\t\t\t<!-- 不在语音输入状态 -->\r\n\t\t\t<view v-show=\"!inputing\">\r\n\t\t\t\t<!-- 风铃icon -->\r\n\t\t\t\t<view class=\"fl_icon\" @click.stop=\"clickFengling\">\r\n\t\t\t\t\t<image :src=\"imgUrl+'/worker/new/ic_fengling.png'\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<!-- 语音按钮区 -->\r\n\t\t\t\t\t<view class=\"voice_btn_wrap\" v-show=\"showVoice && voicePermisson\" @touchstart.stop=\"startRecord\"\r\n\t\t\t\t\t\t@touchend.stop=\"stopRecord\" @touchmove.stop=\"handleTouchMove\" @touchcancel.stop=\"cancelVoice\">\r\n\t\t\t\t\t\t{{canSend?\"按住 说话\":\"正在努力思考，请稍后\"}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"voice_btn_wrap\" v-show=\"showVoice && !voicePermisson\" @click.stop=\"openSetting\">按住\r\n\t\t\t\t\t\t说话</view>\r\n\t\t\t\t\t<!-- 键盘输入区 -->\r\n\t\t\t\t\t<view class=\"input_box\" v-show=\"!showVoice\">\r\n\t\t\t\t\t\t<input type=\"text\" confirm-type=\"发送\" :value=\"question\"\r\n\t\t\t\t\t\t\t:placeholder=\"canSend?'更多工作就问我':'正在努力思考，请稍后'\" @focus=\"inputBindFocus\" @confirm=\"doSend\"\r\n\t\t\t\t\t\t\t:disabled=\"!canSend\" @input=\"onInput\" :adjust-position=\"false\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 右侧输入按钮切换区 -->\r\n\t\t\t\t<view class=\"func_icon\" v-show=\"showSend\" @click.stop=\"doSend\">\r\n\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_send.png'\" style=\"border:1px solid #D8E6FF;border-radius: 50%;\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"func_icon\" @click.stop=\"changeChatMethod\" v-show=\"!showSend\">\r\n\t\t\t\t\t<image :src=\"showVoice?imgUrl+'/worker/ic_keyboard_blue.png':imgUrl+'/worker/ic_voice_blue.png'\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"voice_inputing\" v-show=\"inputing\">\r\n\t\t\t\t<image :src=\"imgUrl+'/worker/new/inputing_wave2.gif'\" mode=\"heightFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<!-- 快速按钮 -->\r\n\t\t\t<!-- <view class=\"btns_wrap flex flex-start\"\r\n\t\t\t\tv-if=\"(!inputHeight && !newUser) || (newUser && channelQaList.length>0 &&!inputHeight)\">\r\n\t\t\t\t<view class=\"btn_item flex\" v-if=\"!userInfo.is_vip\" @click=\"navigate('/pages/vip/vip')\">\r\n\t\t\t\t\t<image :src=\"imgUrl+'/worker/new/ic_become_vip.png'\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<view class=\"\">成为会员</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"btn_item flex \" @click=\"navigate('/pages/invite/invite')\">\r\n\t\t\t\t\t<image :src=\"imgUrl+'/worker/new/ic_gift.png'\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<view class=\"\">邀请有礼</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\r\n\t\t</view>\r\n\t\t<myModal ref=\"myModal\">\r\n\t\t</myModal>\r\n\t\t<flMask v-if=\"showFlMask\" @closeFengling=\"closeFengling\" @sendMsg=\"sendBtnMsg\"></flMask>\r\n\t\t<!-- <login :showLogin=\"showLogin\" @closeLogin=\"closeLogin\" @getInfo=\"getInfo\" :shareId=\"shareId\">\r\n\t\t</login> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport flMask from \"@/components/flmask.vue\"\r\n\timport login from \"@/components/login.vue\"\r\n\timport chat from \"@/components/chat.vue\"\r\n\timport commonMethods from \"@/common/commMethods.js\"\r\n\timport urlSetting from \"@/url_setting\";\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from \"vuex\"\r\n\tconst app = getApp();\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowFlMask: false,\r\n\t\t\t\tgreetingObj: {\r\n\t\t\t\t\tlogo: \"\",\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tcontent: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tshowSend: false,\r\n\t\t\t\tnewUser: false,\r\n\t\t\t\tifSingle: app.globalData.scene == 1154 ? true : false,\r\n\t\t\t\tmenuButtonInfo: app.globalData.menuButtonInfo,\r\n\t\t\t\tmanager: app.globalData.manager,\r\n\t\t\t\t// manager: uni.getRecorderManager(),\r\n\t\t\t\timgUrl: app.globalData.baseImageUrl,\r\n\t\t\t\tstatusBarHeight: app.globalData.statusBarHeight,\r\n\t\t\t\tbotSafe: 0,\r\n\t\t\t\tuserInfo: {\r\n\t\t\t\t\tis_vip: false\r\n\t\t\t\t},\r\n\t\t\t\tshowVoice: true,\r\n\t\t\t\tinputing: false,\r\n\t\t\t\tvoicePermisson: false,\r\n\t\t\t\tshowLogin: false,\r\n\t\t\t\tshareId: \"\",\r\n\t\t\t\tparams: null,\r\n\t\t\t\topenid: \"\",\r\n\t\t\t\tstartPoint: null,\r\n\t\t\t\tcancelRecord: false,\r\n\t\t\t\ttouchStartTime: \"\",\r\n\t\t\t\ttouchEndTime: \"\",\r\n\t\t\t\tsecondTimer: null,\r\n\t\t\t\t// showAnswering: app.globalData.showAnswering,\r\n\t\t\t\tnum: 1,\r\n\t\t\t\thold: \"h1\",\r\n\t\t\t\tplaceHolder: \"您想找什么工作,都可以问我\",\r\n\t\t\t\tquestion: \"\",\r\n\t\t\t\t// canSend: true,\r\n\t\t\t\t// qaList: app.globalData.channelQaList,\r\n\t\t\t\thistoryList: [],\r\n\t\t\t\thistoryId: 0,\r\n\t\t\t\tloadAllHistory: false,\r\n\t\t\t\tinputHeight: 0,\r\n\t\t\t\tchatScrollHeight: 0,\r\n\t\t\t\tbtnInfo: null,\r\n\t\t\t\tchannel_info: {\r\n\t\t\t\t\tlogo: {\r\n\t\t\t\t\t\tkey: \"\",\r\n\t\t\t\t\t\turl: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tname: \"\",\r\n\t\t\t\t\tid: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tscrollStr: \"\",\r\n\t\t\t\tjobId: \"\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\"answering\", \"connected\", \"connecting\", \"canSend\", \"inChannel\", \"channelQaList\",\r\n\t\t\t\t\"answerContinue\"\r\n\t\t\t])\r\n\t\t},\r\n\t\tasync onLoad(params) {\r\n\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\tfrontColor: '#000000',\r\n\t\t\t\tbackgroundColor: 'transparent'\r\n\t\t\t})\r\n\t\t\tthis.channel_info = JSON.parse(decodeURIComponent(params.channel_info))\r\n\t\t\tthis.historyList = await this.getHistory()\r\n\t\t\tthis.$refs.chat.toScroll()\r\n\t\t\tthis.closeAnswering()\r\n\t\t\tthis.openCansend()\r\n\t\t\tthis.clearChannelQaList()\r\n\t\t\tthis.closeInterviewCard()\r\n\t\t\tthis.closeChannelInterviewCard()\r\n\t\t\tthis.btnInfo = await commonMethods.getElementInfo(\".input_btn_wrap\")\r\n\t\t\tif (this.btnInfo) {\r\n\t\t\t\tthis.botSafe = app.globalData.systemHeight - this.btnInfo.top\r\n\t\t\t\tthis.chatScrollHeight = this.btnInfo.top - this.statusBarHeight - 44\r\n\t\t\t}\r\n\t\t\tconsole.log(\"params\", params)\r\n\t\t\t// 扫码进入\r\n\t\t\tlet scanId = params.scene ? decodeURIComponent(params.scene).split(\"=\")[1] : \"\"\r\n\r\n\t\t\tthis.setChannelId(this.channel_info.id)\r\n\t\t\tthis.greetingObj.logo = this.channel_info.logo.url\r\n\t\t\tthis.greetingObj.title = this.channel_info.name\r\n\t\t\tthis.greetingObj.content = this.channel_info.content\r\n\t\t\tconsole.log(this.greetingObj)\r\n\t\t\tthis.shareId = params.share_id ? params.share_id : (scanId ? scanId : \"\")\r\n\t\t\tthis.params = params\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.handleGreeting()\r\n\t\t\tthis.getSetting()\r\n\t\t\tthis.getInfo()\r\n\t\t},\r\n\t\tasync onShow() {\r\n\t\t\t// 录音初始化\r\n\t\t\tthis.initRecord()\r\n\t\t\t// this.openid = await this.getOpenid()\r\n\t\t\tuni.onKeyboardHeightChange(this.listenKeyBoard)\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tuni.offKeyboardHeightChange(this.listenKeyBoard)\r\n\t\t},\r\n\t\tmounted() {},\r\n\t\tcomponents: {\r\n\t\t\tlogin,\r\n\t\t\tchat,\r\n\t\t\tflMask\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tquestion(newValue) {\r\n\t\t\t\tif (!newValue) {\r\n\t\t\t\t\tthis.showSend = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showSend = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\"openAnswering\", \"closeAnswering\", \"openCansend\", \"closeCansend\", \"isChannel\",\r\n\t\t\t\t\"clearChannelQaList\", \"addChannelQaList\",\r\n\t\t\t\t\"calcChannelQaLen\", \"setChannelId\", \"notInCall\", \"closeInterviewCard\", \"closeChannelInterviewCard\"\r\n\t\t\t]),\r\n\t\t\tonInput(e) {\r\n\t\t\t\tthis.question = e.target.value\r\n\t\t\t},\r\n\t\t\tasync handleGreeting() {\r\n\t\t\t\t// let msg = await this.handleBtnMsg(this.channel_info.name)\r\n\t\t\t\tlet msg = \"欢迎进入\" + this.channel_info.name + \"频道，\" + this.channel_info.content\r\n\t\t\t\tvar showData = {\r\n\t\t\t\t\tcontent: msg,\r\n\t\t\t\t\torigin: \"ai\",\r\n\t\t\t\t\tmsg_type: \"text\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.addChannelQaList(showData)\r\n\t\t\t},\r\n\t\t\tlistenKeyBoard(res) {\r\n\t\t\t\tif (res.height == 0) {\r\n\t\t\t\t\tthis.inputHeight = 0\r\n\t\t\t\t\tthis.chatScrollHeight = this.btnInfo.top - this.statusBarHeight - 44\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.chatScrollHeight = app.globalData.systemHeight - this.statusBarHeight - 44 - res\r\n\t\t\t\t\t\t.height -\r\n\t\t\t\t\t\tthis.btnInfo.height - 10\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\ttoCall(obj) {\r\n\t\t\t\tlet status = \"\"\r\n\t\t\t\tlet job_id = \"\"\r\n\t\t\t\tif (obj) {\r\n\t\t\t\t\t// 有参数\r\n\t\t\t\t\tstatus = obj.type\r\n\t\t\t\t\tjob_id = obj.job_id\r\n\t\t\t\t}\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// 获取语音权限\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// console.log(res, 'success')\r\n\t\t\t\t\t\t_this.voicePermisson = true\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: \"/pages/phone_call/phone_call?status=\" + status + \"&job_id=\" + job_id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t// 弹出麦克风授权\r\n\t\t\t\t\t\t_this.voicePermisson = false\r\n\t\t\t\t\t\tconsole.log(err, 'err')\r\n\t\t\t\t\t\t_this.$refs.myModal.showModal({\r\n\t\t\t\t\t\t\ttitle: \"请先开启语音输入权限。\",\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: \"好的\",\r\n\t\t\t\t\t\t\tsuccess(resp) {\r\n\t\t\t\t\t\t\t\tif (resp == \"confirm\") {\r\n\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\tsuccess(respone) {\r\n\t\t\t\t\t\t\t\t\t\t\t// console.log(res.authSetting, \"res.authSetting\")\r\n\t\t\t\t\t\t\t\t\t\t\tif (respone.authSetting['scope.record']) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.voicePermisson = true\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/phone_call/phone_call?status=\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus + \"&job_id=\" + job_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail(openErr) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(openErr, 'openerr')\r\n\t\t\t\t\t\t\t\t\t\t\t_this.voicePermisson = false\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tuni.setStorageSync(\"voiceAuth\", true)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickFengling() {\r\n\t\t\t\t// this.showFlMask = true\r\n\t\t\t\tthis.$refs.myModal.showModal({\r\n\t\t\t\t\ttitle: \"即将上线，敬请期待~\",\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tconfirmText: \"好的\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseFengling() {\r\n\t\t\t\tthis.showFlMask = false\r\n\t\t\t},\r\n\t\t\tgetHistory() {\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\tlet _this = this\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tlet url = \"/api/chat/histories?last_message_id=\" + _this.historyId + \"&job_channel_id=\" + _this\r\n\t\t\t\t\t\t.channel_info\r\n\t\t\t\t\t\t.id\r\n\t\t\t\t\t_this.$aiRequest(url).then(res => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tif (res.data.length == 0) {\r\n\t\t\t\t\t\t\t\t// 新用户\r\n\t\t\t\t\t\t\t\t_this.newUser = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.newUser = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet newArr = res.data.reverse()\r\n\t\t\t\t\t\t\tlet len = res.data.length\r\n\t\t\t\t\t\t\tif (len > 0) {\r\n\t\t\t\t\t\t\t\t_this.historyId = res.data[0].id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnewArr = _this.handleList(newArr)\r\n\t\t\t\t\t\t\tresolve(newArr)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tgetInfo() {\r\n\t\t\t\tthis.$request(\"/worker/profile\").then(response => {\r\n\t\t\t\t\tif (response.code == 0) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", JSON.stringify(response.data))\r\n\t\t\t\t\t\tthis.userInfo = response.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetMoreHistory() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tif (!this.loadAllHistory) {\r\n\t\t\t\t\tif (!this.historyId) {\r\n\t\t\t\t\t\tif (this.answerContinue || this.answering) {\r\n\t\t\t\t\t\t\tthis.$refs.chat.refreshRestore()\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.clearChannelQaList()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showLoading()\r\n\t\t\t\t\tlet url = \"/api/chat/histories?last_message_id=\" + this.historyId + \"&job_channel_id=\" + this\r\n\t\t\t\t\t\t.channel_info.id\r\n\t\t\t\t\tthis.$aiRequest(url).then(res => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tlet len = res.data.length\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tthis.$refs.chat.refreshRestore()\r\n\t\t\t\t\t\t\tif (len > 0) {\r\n\t\t\t\t\t\t\t\tlet resArr = res.data.reverse()\r\n\t\t\t\t\t\t\t\tlet newArr = this.handleList(resArr)\r\n\t\t\t\t\t\t\t\tthis.historyList = newArr.concat(this.historyList)\r\n\t\t\t\t\t\t\t\tthis.scrollStr = \"his\" + res.data[len - 1].id\r\n\t\t\t\t\t\t\t\tthis.historyId = res.data[0].id\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.loadAllHistory = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$refs.chat.refreshRestore()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"已加载全部\",\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_this.$refs.chat.refreshRestore()\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 给聊天记录添加字段\r\n\t\t\thandleList(arr) {\r\n\t\t\t\tlet len = arr.length\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tif (arr[i].msg_type == \"voice\") {\r\n\t\t\t\t\t\t// 语音记录，添加是否播放状态,默认为false\r\n\t\t\t\t\t\tarr[i].voice.anmitionPlay = false\r\n\t\t\t\t\t\tarr[i].showTranlate = false\r\n\t\t\t\t\t\tarr[i].showTranIcon = false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"arr:\", arr)\r\n\t\t\t\treturn arr\r\n\t\t\t},\r\n\t\t\tnavigate(url) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: url + \"?shareid=\" + this.shareId\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync sendBtnMsg(obj) {\r\n\t\t\t\tif (this.answerContinue) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"回答中，请稍后\",\r\n\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.jobId = obj.job_id\r\n\t\t\t\tif (obj.type == \"job\") {\r\n\t\t\t\t\t// 词语润色\r\n\t\t\t\t\tlet strArr = []\r\n\t\t\t\t\tstrArr.push(\"请介绍一下\" + obj.msg)\r\n\t\t\t\t\tstrArr.push(\"我对\" + obj.msg + \"感兴趣，可以介绍一下吗？\")\r\n\t\t\t\t\tstrArr.push(obj.msg + \"的工作内容是什么呢？福利待遇怎么样？\")\r\n\t\t\t\t\tstrArr.push(obj.msg + \"这个工作看着还不错，请为我介绍下吧\")\r\n\t\t\t\t\tstrArr.push(obj.msg + \"这个工作的详细信息可以说一下吗？\")\r\n\t\t\t\t\tlet random = Math.floor(Math.random() * strArr.length)\r\n\t\t\t\t\tthis.question = strArr[random]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.question = obj.msg\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.currentTabIndex = 1\r\n\t\t\t\tthis.sendQuestion()\r\n\t\t\t},\r\n\t\t\thandleBtnMsg(msg) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\t\t_this.$request(\"/ai/refine/question\", {\r\n\t\t\t\t\t\t\"text\": msg\r\n\t\t\t\t\t}, \"POST\").then(res => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresolve(\"error\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinputBindFocus(e) {\r\n\t\t\t\tif (e.detail.height) {\r\n\t\t\t\t\tthis.inputHeight = e.detail.height //这个高度就是软键盘的高度\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitRecord() {\r\n\t\t\t\t//录音开始事件\r\n\t\t\t\tthis.manager.onStart(e => {\r\n\t\t\t\t\tconsole.log(\"录音开始\")\r\n\t\t\t\t\tthis.inputing = true\r\n\t\t\t\t});\r\n\t\t\t\t//录音结束事件\r\n\t\t\t\tthis.manager.onStop(res => {\r\n\t\t\t\t\tlet _this = this\r\n\t\t\t\t\tconsole.log(\"录音结束\")\r\n\t\t\t\t\tthis.inputing = false\r\n\t\t\t\t\tclearInterval(_this.secondTimer)\r\n\t\t\t\t\tconsole.log(\"时间间隔:\", this.touchEndTime - this.touchStartTime)\r\n\t\t\t\t\tif ((this.touchEndTime - this.touchStartTime) > 1000) {\r\n\t\t\t\t\t\tthis.handleRecorder(res);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"长按时间过短\",\r\n\t\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t\tthis.manager.onError(res => {\r\n\t\t\t\t\tlet _this = this\r\n\t\t\t\t\tthis.inputing = false\r\n\t\t\t\t\tclearInterval(_this.secondTimer)\r\n\t\t\t\t\tconsole.log(\"channel录音出错：\", res.errMsg)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 处理录音数据\r\n\t\t\thandleRecorder({\r\n\t\t\t\ttempFilePath,\r\n\t\t\t\tduration\r\n\t\t\t}) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tconsole.log(\"tempFilePath\", tempFilePath)\r\n\t\t\t\tconsole.log(\"duration\", duration)\r\n\t\t\t\tif (duration < 600) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"说话时间过短\",\r\n\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.inputing = false;\r\n\t\t\t\tif (!this.cancelRecord) {\r\n\t\t\t\t\twx.getFileSystemManager().readFile({\r\n\t\t\t\t\t\tfilePath: tempFilePath,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t// res.data是录音文件的二进制数据\r\n\t\t\t\t\t\t\tconst binaryData = res.data;\r\n\t\t\t\t\t\t\tlet midata = new Uint8Array(binaryData)\r\n\t\t\t\t\t\t\tlet time = new Date().getTime()\r\n\t\t\t\t\t\t\tlet id = uni.getStorageSync(\"openid\") + time\r\n\t\t\t\t\t\t\t// let encoder = new TextEncoder();\r\n\t\t\t\t\t\t\t// let binaryId = encoder.encode(id + \"@@@\")\r\n\t\t\t\t\t\t\tlet binaryId = _this.stringToUint8Array(id + \"@@@\" + _this.channel_info.id +\r\n\t\t\t\t\t\t\t\t\"@@@\" +\r\n\t\t\t\t\t\t\t\t_this.jobId + \"@@@@@@\")\r\n\t\t\t\t\t\t\t// 输出拼接后的 Uint8Array\r\n\t\t\t\t\t\t\tconsole.log(binaryId.length, midata.length);\r\n\t\t\t\t\t\t\t// 计算总长度\r\n\t\t\t\t\t\t\tconst totalLength = binaryId.length + midata.length;\r\n\t\t\t\t\t\t\t// 创建一个新的 Uint8Array，长度为所有数组的总和\r\n\t\t\t\t\t\t\tlet mergedArray = new Uint8Array(totalLength);\r\n\t\t\t\t\t\t\t// 使用 set 方法将每个 Uint8Array 的数据填充到新的 Uint8Array 中\r\n\t\t\t\t\t\t\tlet offset = 0;\r\n\t\t\t\t\t\t\tmergedArray.set(binaryId, offset);\r\n\t\t\t\t\t\t\toffset += binaryId.length;\r\n\r\n\t\t\t\t\t\t\tmergedArray.set(midata, offset);\r\n\t\t\t\t\t\t\t// offset += data.length;\r\n\t\t\t\t\t\t\tlet showData = {\r\n\t\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\t\tcontent: \"\",\r\n\t\t\t\t\t\t\t\torigin: \"customer\",\r\n\t\t\t\t\t\t\t\tmsg_type: \"voice\",\r\n\t\t\t\t\t\t\t\tvoice: {\r\n\t\t\t\t\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\t\t\t\t\tkey: \"\",\r\n\t\t\t\t\t\t\t\t\t\turl: tempFilePath\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsecond: duration / 1000,\r\n\t\t\t\t\t\t\t\t\tanmitionPlay: false\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tshowTranIcon: false,\r\n\t\t\t\t\t\t\t\tshowTranlate: false,\r\n\t\t\t\t\t\t\t\tshowTransing: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.send(mergedArray.buffer, showData, \"voice\")\r\n\t\t\t\t\t\t\t// 接下来你可以对binaryData进行需要的操作\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(error) {\r\n\t\t\t\t\t\t\tconsole.error('读取文件失败：', error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.cancelRecord = false\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// this.canSend && this.sendMsg(params);\r\n\t\t\t},\r\n\t\t\tstringToUint8Array(str) {\r\n\t\t\t\tconst utf8 = unescape(encodeURIComponent(str)); // 将字符串编码为 UTF-8\r\n\t\t\t\tconst len = utf8.length;\r\n\t\t\t\tconst arr = new Uint8Array(len);\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tarr[i] = utf8.charCodeAt(i);\r\n\t\t\t\t}\r\n\t\t\t\treturn arr;\r\n\t\t\t},\r\n\t\t\tsend(data, param, type) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// 先判断是否是可发送状态\r\n\t\t\t\tconsole.log(\"cha answerContinue:\", this.answerContinue)\r\n\t\t\t\tif (this.answering || this.answerContinue) {\r\n\t\t\t\t\tthis.$refs.myModal.showModal({\r\n\t\t\t\t\t\ttitle: \"目前有正在回复的对话，请稍后重试\",\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tconfirmText: \"好的\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.canSend) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 如果无历史记录显示加载中\r\n\t\t\t\t\tif (this.historyList.length == 0) {\r\n\t\t\t\t\t\tuni.showLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.question = \"\"\r\n\t\t\t\t\tthis.isChannel()\r\n\t\t\t\t\tthis.notInCall()\r\n\t\t\t\t\tapp.globalData.socketTask.send({\r\n\t\t\t\t\t\tdata: type == \"voice\" ? data : JSON.stringify({\r\n\t\t\t\t\t\t\tcontent: data,\r\n\t\t\t\t\t\t\tjob_channel_id: _this.channel_info.id,\r\n\t\t\t\t\t\t\tjob_id: _this.jobId\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t_this.jobId = \"\"\r\n\t\t\t\t\t\t\t_this.closeInterviewCard()\r\n\t\t\t\t\t\t\t_this.closeChannelInterviewCard()\r\n\t\t\t\t\t\t\tconsole.log(data, \"data\")\r\n\t\t\t\t\t\t\tif (data != \"ping\") {\r\n\t\t\t\t\t\t\t\tif (!_this.cancelRecord) {\r\n\t\t\t\t\t\t\t\t\t// _this.showAnswering = true\r\n\t\t\t\t\t\t\t\t\t_this.openAnswering()\r\n\t\t\t\t\t\t\t\t\t_this.addChannelQaList(param)\r\n\t\t\t\t\t\t\t\t\t_this.calcChannelQaLen()\r\n\t\t\t\t\t\t\t\t\t_this.num++\r\n\t\t\t\t\t\t\t\t\t_this.hold = \"h\" + _this.num\r\n\t\t\t\t\t\t\t\t\t_this.closeCansend()\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\t// _this.placeHolder = \"正在努力思考，请稍后...\"\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t_this.jobId = \"\"\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tdoSend(e, text) {\r\n\t\t\t\t// console.log(text);\r\n\t\t\t\tif (e.ctrlKey && e.keyCode === 13) {\r\n\t\t\t\t\t//用户点击了ctrl+enter触发\r\n\t\t\t\t\tthis.question += '\\n';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//用户点击了enter触发    执行一些逻辑方法\r\n\t\t\t\t\tif (e !== undefined) {\r\n\t\t\t\t\t\t//发送消息的方法\r\n\t\t\t\t\t\tthis.sendQuestion();\r\n\t\t\t\t\t\t// 阻止浏览器默认的敲击回车换行的方法\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsendQuestion() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tif (!this.question) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t// \ticon: \"error\",\r\n\t\t\t\t\t// \ttitle: \"无输入\"\r\n\t\t\t\t\t// })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.inputHeight = 0\r\n\t\t\t\t\tvar showData = {\r\n\t\t\t\t\t\tcontent: this.question,\r\n\t\t\t\t\t\torigin: \"customer\",\r\n\t\t\t\t\t\tmsg_type: \"text\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.send(this.question, showData, \"\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleTouchMove(e) {\r\n\t\t\t\t// 先判断是否是可发送状态\r\n\t\t\t\tif (!this.canSend) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// let exp1 = (e.touches[e.touches.length - 1].clientX > this.cancelIconLeft) && (e.touches[e.touches.length -\r\n\t\t\t\t// \t1].clientX < this.cancelIconRight)\r\n\t\t\t\tlet exp = e.touches[e.touches.length - 1].clientY < this.btnInfo.top\r\n\t\t\t\tif (exp) {\r\n\t\t\t\t\tthis.cancelRecord = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.cancelRecord = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 间隔一定时间判断用户是否没有输入\r\n\t\t\tnoInput() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.timer = setInterval(function() {\r\n\t\t\t\t\tlet data = \"ping\"\r\n\t\t\t\t\t_this.send(data, \"\", \"\")\r\n\t\t\t\t}, 10000)\r\n\t\t\t},\r\n\t\t\tresetData() {\r\n\t\t\t\t// this.canSend = true\r\n\t\t\t\t// this.placeHolder = \"想了解什么工作，请告诉我吧\"\r\n\t\t\t\tthis.cancelRecord = false\r\n\t\t\t},\r\n\t\t\tformatResultStr(str) {\r\n\t\t\t\tif (str) {\r\n\t\t\t\t\tthis.speeking(str)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tspeeking(str) {\r\n\t\t\t\tconsole.log(str, \"播报内容\")\r\n\t\t\t\tplugin.textToSpeech({\r\n\t\t\t\t\tlang: \"zh_CN\",\r\n\t\t\t\t\tcontent: str,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.retcode == 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"result\", res.result)\r\n\t\t\t\t\t\t\twx.playBackgroundAudio({\r\n\t\t\t\t\t\t\t\tdataUrl: res.filename,\r\n\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.warn(\"翻译失败\", res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(\"网络失败\", res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tif (app.globalData.socketTask && app.globalData.socketTask.close) {\r\n\t\t\t\t\t// this.send('{\"type\":\"close\"}');\r\n\t\t\t\t\tapp.globalData.socketTask.close()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstartRecord(e) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// 先判断是否是可发送状态\r\n\t\t\t\tif (!this.canSend) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"正在回答请稍后\",\r\n\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.showVoice) {\r\n\t\t\t\t\t// 判断是否有麦克风授权\r\n\t\t\t\t\tif (_this.voicePermisson) {\r\n\t\t\t\t\t\t_this.touchStartTime = e.timeStamp\r\n\t\t\t\t\t\t_this.$refs.chat.stopCurAudio()\r\n\t\t\t\t\t\t// if (!this.Audio.paused) {\r\n\t\t\t\t\t\t// \t//如果音频正在播放 先暂停。\r\n\t\t\t\t\t\t// \tthis.stopAudio(this.AudioExam)\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tuni.vibrateShort({\r\n\t\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\t\tconsole.log('success');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_this.startPoint = e.touches[0]; //记录长按时开始点信息，后面用于计算上划取消时手指滑动的距离。\r\n\t\t\t\t\t\t// this.showInputing = true\r\n\t\t\t\t\t\t_this.cancelRecord = false\r\n\t\t\t\t\t\t_this.manager.start({\r\n\t\t\t\t\t\t\tduration: 60000,\r\n\t\t\t\t\t\t\tlang: \"zh_CN\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res, 'success')\r\n\t\t\t\t\t\t\t\t_this.voicePermisson = true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\t// 弹出麦克风授权\r\n\t\t\t\t\t\t\t\t_this.voicePermisson = false\r\n\t\t\t\t\t\t\t\tconsole.log(err, 'err')\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tgetSetting() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (!res.authSetting['scope.record']) {\r\n\t\t\t\t\t\t\tconsole.log('用户尚未授权语音权限');\r\n\t\t\t\t\t\t\t_this.voicePermisson = false\r\n\t\t\t\t\t\t\t// 可以在这里引导用户去设置中开启权限\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('用户已授权语音权限');\r\n\t\t\t\t\t\t\t_this.voicePermisson = true\r\n\t\t\t\t\t\t\t// 用户已授权，可以继续进行后续操作\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log('获取设置失败', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tstopRecord(e) {\r\n\t\t\t\t// 先判断是否是可发送状态\r\n\t\t\t\tif (!this.canSend) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.touchEndTime = e.timeStamp\r\n\t\t\t\tthis.inputing = false\r\n\t\t\t\tif ((this.touchEndTime - this.touchStartTime) > 1000) {\r\n\t\t\t\t\tthis.manager.stop()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_this.manager.stop()\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//录音被打断\r\n\t\t\tcancelVoice(e) {\r\n\t\t\t\tconsole.log(\"touch取消\")\r\n\t\t\t\tthis.showInputing = false\r\n\t\t\t\t// this.canSend = false;\r\n\t\t\t\tthis.manager.stop();\r\n\t\t\t},\r\n\t\t\thandleClick(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t},\r\n\t\t\topenSetting() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tlet ifAuth = uni.getStorageSync(\"voiceAuth\")\r\n\t\t\t\tif (ifAuth) {\r\n\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res.authSetting, \"res.authSetting\")\r\n\t\t\t\t\t\t\tif (res.authSetting['scope.record']) {\r\n\t\t\t\t\t\t\t\t_this.voicePermisson = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(openErr) {\r\n\t\t\t\t\t\t\tconsole.log(openErr, 'openerr')\r\n\t\t\t\t\t\t\t_this.voicePermisson = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res, 'success')\r\n\t\t\t\t\t\t\t_this.voicePermisson = true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t// 弹出麦克风授权\r\n\t\t\t\t\t\t\t_this.voicePermisson = false\r\n\t\t\t\t\t\t\tconsole.log(err, 'err')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"voiceAuth\", true)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t},\r\n\t\t\tchangeChatMethod() {\r\n\t\t\t\tthis.showVoice = !this.showVoice\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t::v-deep {\r\n\t\t.u-tabs__wrapper__nav__line {\r\n\t\t\tbottom: 0 !important;\r\n\t\t}\r\n\r\n\t\t.u-avatar {\r\n\t\t\tmargin: 0 auto;\r\n\t\t}\r\n\r\n\t\t.inner .u-navbar--fixed {\r\n\t\t\twidth: 83vw;\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t.title_wrap {\r\n\t\tmargin-left: 50rpx;\r\n\r\n\t\timage {\r\n\t\t\twidth: 69rpx;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tmargin-right: 12rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\r\n\t\tview {\r\n\t\t\tfont-weight: 400;\r\n\t\t\tfont-size: 31rpx;\r\n\t\t\tcolor: #010101;\r\n\t\t}\r\n\t}\r\n\r\n\t.inner {\r\n\t\tpadding: 0 28rpx;\r\n\t\twidth: 83vw;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: #fff;\r\n\t\tcolor: #4C4C53;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\r\n\t.input_btn_wrap {\r\n\t\twidth: calc(100% - 56rpx);\r\n\t\tposition: fixed;\r\n\t\tleft: 28rpx;\r\n\t\tbottom: 24rpx;\r\n\t\theight: 100rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0rpx 0rpx 4rpx 0rpx rgba(0, 0, 0, 0.1);\r\n\t\tborder-radius: 63rpx;\r\n\t\tz-index: 10;\r\n\r\n\t\t.voice_inputing {\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\timage {\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btns_wrap {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: calc(100% + 10px);\r\n\t\t\tleft: 0;\r\n\r\n\t\t\t.btn_item {\r\n\t\t\t\twidth: 180rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tline-height: 30px;\r\n\t\t\t\tbackground: #F7F8FA;\r\n\t\t\t\tborder-radius: 63rpx;\r\n\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\tcolor: #7D8488;\r\n\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 28rpx;\r\n\t\t\t\t\tmargin-right: 6rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.upper {\r\n\t\t\t// position: fixed;\r\n\t\t\t// width: calc(100% - 80rpx);\r\n\t\t\t// left: 40rpx;\r\n\t\t\t// z-index: 105;\r\n\t\t\t// background: #fff;\r\n\t\t\t// border: 1rpx solid #216FF9;\r\n\r\n\t\t\t// .btns_wrap {\r\n\t\t\t// \t.btn_item {\r\n\t\t\t// \t\tbackground: #F7F8FA;\r\n\t\t\t// \t\tcolor: #7D8488;\r\n\t\t\t// \t\t// border: 1rpx solid #216FF9;\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t}\r\n\r\n\t\t.voice_btn_wrap {\r\n\t\t\theight: 100rpx;\r\n\t\t\tline-height: 100rpx;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\r\n\t\t.input_box {\r\n\t\t\tinput {\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tline-height: 100rpx;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: #0F2A4F;\r\n\t\t\t}\r\n\r\n\t\t\tpadding: 0 75rpx 0 100rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t}\r\n\r\n\t\t.fl_icon {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 8rpx;\r\n\t\t\tleft: 11rpx;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 86rpx;\r\n\t\t\t\theight: 86rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.func_icon {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 20rpx;\r\n\t\t\tright: 15rpx;\r\n\t\t\tz-index: 100;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 60rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./channel_chat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./channel_chat.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743642521155\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}