{"version":3,"sources":["webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/components/broadcast.vue?37a5","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/components/broadcast.vue?55f6","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/components/broadcast.vue?f2ab","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/components/broadcast.vue?a220","uni-app:///components/broadcast.vue","webpack:///E:/项目文件/发薪平台/youpin_list_v1.0/components/broadcast.vue?d5b0"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","g0","_self","_c","period","filter","el","value","currentPlay","worker_salary_type","g1","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","name","props","visible","showSureJob","showNext","scrollTop","current","dots","imgUrl","recommendList","currentPlayIndex","muted","systemHeight","animationActive","animationTimer","welcomeVoiceList","lastClickTime","requestTimer","reConnectCount","mayAskCount","bannerImageInfo","bannerHeight","currentStep","firstEnd","isWelcome","clickProject","computed","created","setTimeout","_this","app","watch","canPlay","console","beforeDestroy","methods","close","toInvite","uni","url","toChat","project_id","msg","type","job_id","action","toCall","nextStep","changeNext","playFirst","playNext","stopInterval","clearInterval","handleAudio","playAudio","playWelcome","stopAudio","pauseAudio","getMayAsk","res","getRecommend","city","title","showCancel","success","sendMsg","textAnimation","touchStart","scrollLower"],"mappings":"qHAAA,oIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,OAAOC,QAAO,SAAUC,GACnC,OAAOA,EAAGC,OAASV,EAAIW,YAAYC,uBAEjCC,EAAKT,EAAG,GACRJ,EAAIO,OAAOC,QAAO,SAAUC,GAC1B,OAAOA,EAAGC,OAASV,EAAIW,YAAYC,sBAErC,KACJZ,EAAIc,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLd,GAAIA,EACJS,GAAIA,MAKRM,GAAmB,EACnBC,EAAkB,GACtBrB,EAAOsB,eAAgB,G,iCCzBvB,yHAAsnB,eAAG,G,gKCwDznB,YACA,QAGA,2kBACA,iBACA,CACAC,iBACAC,kCACAR,gBACA,OACAS,WACAC,eACAC,YACAC,YACApB,4BACAqB,UACAC,OACAC,iCACAC,iBACApB,aACA,cACA,WACA,WACA,gBACA,SACA,qBACA,qBACA,uBAEAqB,mBACAC,SACAC,uCAEAC,mBACAC,oBACAC,0FACA,mEAEAC,gBACAC,kBACAC,iBACAC,cACAC,qBACAC,eAEAC,cACAC,YACAC,aACAC,cACA,cACA,WACA,WACA,gBACA,SACA,qBACA,qBACA,yBAIAC,eACA,mCAEAC,mBAAA,WACA,OACAC,uBACAC,eACA,KACA,oBAEAC,uCACA,aACA,qBAMAA,2CAGAA,wCACA,YACA,WACA,aAEA,mBAMAC,OACAlB,4BACA,GAGA,qBAGAmB,oBACAC,0BACA,EAIA,qBAHAH,2BACA,gBASApB,6BAEA,mBAGAwB,yBACAJ,2BACA,eAEAK,SACAC,iBACA,WACA,gBACAR,uBACAC,mBACA,MAGAQ,oBACAC,cACAC,8BAGAC,mBACA,uBACA,kBAEA,4EACA,iBACA,+CACA,8EACAC,0CACA,wBACA,mBACA,GACAC,MACAC,OACAC,SACAC,SACA7C,uEAEA,aACA,yBAEA8C,mBACA,OACAH,OACAC,oDAEA,wBAEAG,oBACA,mBACA,oBAGAT,gCACA,cACA,mBAEA,0BAGAU,sBACA,iBACA,gCACA,+BACA,OACAN,4BACAC,QACAC,WAEA,aACA,6BAEAd,0BACA,iBAIAmB,qBACA,iBACA,kBAEA,2BACA,kBAIAC,oBACA,WACA,4BACA,2BACA,wBACA,6DAEA,wBACA,2DACA,yBAGAtB,uBACA,qBACAC,gBAGA,KAGAsB,wBACA,sBACAC,mCACA,yBACA,mBAIAC,uBACA,0BACAvB,8DAGAwB,qBACA,eACAxB,8CACAA,0BACA,gBAKAyB,uBACA,6DACAzB,gDACAA,0BACA,eAGA0B,qBACA1B,0BACAA,2BAGA2B,sBACA3B,2BACA,eAEA4B,qBAAA,4IACA,OAAAnB,gDAAA,kBAEA,qBAAAoB,SACA,0CACA,iEAEA,iBACA,cACA,iBAEA,gBACA,wDAZA,IAqBAC,wBAAA,8IAKA,OAJA/B,IACApC,GACAoE,aAEA,kBAEA,wCAAAF,SACA,0BACA,sBACA,6BACA,4BACA,iBACA,eACA,2BACA,iBAIA,2BACAG,iBACAC,gBAEA,qDAGA9B,yCAEA,qBACAJ,mBACAA,kBAEAS,aACAwB,uBACAC,cACAC,oBACA,YACAnC,mBACAS,YACAC,uDAKA,yDA5CA,IAgDA0B,sBACA,uBACA,kBAEA,OACAvB,+EACAC,OACAC,oCACA5C,qCAEA,aACA,yBAEAkE,yBACA,WACArC,cACA,sBACA,4CACAA,iBACA,OAIAsC,sBACA,yBAmBAC,uBACA,uBACA,qBAKA,c,6DCpbA,yHAAyrC,eAAG,G","file":"components/broadcast.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./broadcast.vue?vue&type=template&id=2b2a4596&scoped=true&\"\nvar renderjs\nimport script from \"./broadcast.vue?vue&type=script&lang=js&\"\nexport * from \"./broadcast.vue?vue&type=script&lang=js&\"\nimport style0 from \"./broadcast.vue?vue&type=style&index=0&id=2b2a4596&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b2a4596\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/broadcast.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcast.vue?vue&type=template&id=2b2a4596&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.period.filter(function (el) {\n    return el.value == _vm.currentPlay.worker_salary_type\n  })\n  var g1 = g0[0]\n    ? _vm.period.filter(function (el) {\n        return el.value == _vm.currentPlay.worker_salary_type\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcast.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcast.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"broadcast\"\r\n\t\t:style=\"{width:visible?'100vh':'0',height:visible?'100vh':'0',bottom:visible?'0':(bottom+'px'),left:visible?'0':(left+'rpx'),borderRadius:visible?'0':'50%'}\"\r\n\t\t@click=\"close\">\r\n\t\t<view class=\"broadcast_inner\" @click.stop=\"\">\r\n\t\t\t<view class=\"close\" @click=\"close\">\r\n\t\t\t\t<image :src=\"imgUrl+'/worker/v2/close_circle_white.png'\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"top_wrap\">\r\n\t\t\t\t<view class=\"banner\">\r\n\t\t\t\t\t<view class=\"ban_top\">\r\n\t\t\t\t\t\t<view class=\"tit\">{{currentPlay.project_name}}</view>\r\n\t\t\t\t\t\t<view class=\"salary flex flex-start\">\r\n\t\t\t\t\t\t\t<text>{{currentPlay.worker_salary_max}}</text>\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tclass=\"period\">元{{period.filter(el=>{return el.value == currentPlay.worker_salary_type})[0]?period.filter(el=>{return el.value == currentPlay.worker_salary_type})[0].text:\"\"}}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"ban_bot\">\r\n\t\t\t\t\t\t<scroll-view scroll-y=\"true\" class=\"cont\" style=\"height:260rpx;\" :scroll-with-animation=\"true\"\r\n\t\t\t\t\t\t\t:scroll-top=\"scrollTop\" @touchstart=\"touchStart\" @scrolltolower=\"scrollLower\">\r\n\t\t\t\t\t\t\t{{currentPlay.content}}\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image :src=\"imgUrl+'/worker/new/banner_ai.png'\" :lazy-load=\"true\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<view class=\"voice_control\" @click.stop=\"handleAudio\">\r\n\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/new/ic_index_voice_muted.png'\" mode=\"heightFix\"\r\n\t\t\t\t\t\t\t:style=\"{display:muted?'inline-block':'none'}\"></image>\r\n\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/new/ic_index_voice_play.png'\" mode=\"heightFix\"\r\n\t\t\t\t\t\t\t:style=\"{display:muted?'none':'inline-block'}\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tips_wrap flex flex_btween\">\r\n\t\t\t\t\t<view class=\"tip_list\">\r\n\t\t\t\t\t\t<view class=\"item\" v-for=\"(item,index) in currentPlay.may_ask\" :key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"sendMsg(item,'tip')\">\r\n\t\t\t\t\t\t\t<view class=\"text\">{{item}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tip_right\">\r\n\t\t\t\t\t\t<view class=\"surein\" v-show=\"showSureJob\" @click.stop=\"toChat('surejob')\">\r\n\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/new/ic_heart.png'\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t<text>立即报名</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"change\" @click=\"changeNext\" v-show=\"showNext\">下一个&gt;</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<myModal ref=\"myModal\">\r\n\t\t</myModal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport commonData from \"@/common/commonData.js\"\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from \"vuex\"\r\n\tconst app = getApp()\r\n\texport default {\r\n\t\tname: \"broadcast\",\r\n\t\tprops: [\"left\", \"bottom\", \"canPlay\"],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tshowSureJob: false,\r\n\t\t\t\tshowNext: false,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tperiod: commonData.periodList,\r\n\t\t\t\tcurrent: 0, // 当前激活的swiper-item索引\r\n\t\t\t\tdots: 2, // 指示点的数量，可以根据swiper-item的数量动态计算\r\n\t\t\t\timgUrl: app.globalData.baseImageUrl,\r\n\t\t\t\trecommendList: [],\r\n\t\t\t\tcurrentPlay: {\r\n\t\t\t\t\t\"project_id\": \"\",\r\n\t\t\t\t\t\"content\": \"\",\r\n\t\t\t\t\t\"may_ask\": [],\r\n\t\t\t\t\t\"project_name\": \"\",\r\n\t\t\t\t\t\"voice\": \"\",\r\n\t\t\t\t\t\"worker_salary_max\": \"\",\r\n\t\t\t\t\t\"worker_salary_min\": \"\",\r\n\t\t\t\t\t\"worker_salary_type\": \"\"\r\n\t\t\t\t},\r\n\t\t\t\tcurrentPlayIndex: 0,\r\n\t\t\t\tmuted: false, //是否静音\r\n\t\t\t\tsystemHeight: app.globalData.systemHeight,\r\n\t\t\t\t// Audio: app.globalData.Audio,\r\n\t\t\t\tanimationActive: true,\r\n\t\t\t\tanimationTimer: null,\r\n\t\t\t\twelcomeVoiceList: [app.globalData.baseImageUrl + \"/worker/wel01.mp3\", app.globalData.baseImageUrl +\r\n\t\t\t\t\t\"/worker/wel02.mp3\", app.globalData.baseImageUrl + \"/worker/wel03.mp3\"\r\n\t\t\t\t],\r\n\t\t\t\tlastClickTime: 0, // 记录上次点击的时间\r\n\t\t\t\trequestTimer: null,\r\n\t\t\t\treConnectCount: 0, //记录网络异常重连次数,\r\n\t\t\t\tmayAskCount: 0, //记录mayAsk异常重连次数,\r\n\t\t\t\tbannerImageInfo: null,\r\n\t\t\t\tbannerHeight: 0,\r\n\t\t\t\t// showUserStep: false,\r\n\t\t\t\tcurrentStep: 1,\r\n\t\t\t\tfirstEnd: false,\r\n\t\t\t\tisWelcome: true,\r\n\t\t\t\tclickProject: {\r\n\t\t\t\t\t\"project_id\": \"\",\r\n\t\t\t\t\t\"content\": \"\",\r\n\t\t\t\t\t\"may_ask\": [],\r\n\t\t\t\t\t\"project_name\": \"\",\r\n\t\t\t\t\t\"voice\": \"\",\r\n\t\t\t\t\t\"worker_salary_max\": \"\",\r\n\t\t\t\t\t\"worker_salary_min\": \"\",\r\n\t\t\t\t\t\"worker_salary_type\": \"\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\"city\", \"aiReady\"])\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet _this = this\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_this.visible = true\r\n\t\t\t}, 100)\r\n\t\t\tthis.getRecommend()\r\n\t\t\t//音频停止事件\r\n\t\t\tapp.globalData.Audio.onPlay(e => {\r\n\t\t\t\tif (!this.isWelcome) {\r\n\t\t\t\t\tthis.textAnimation()\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t//音频停止事件\r\n\t\t\tapp.globalData.Audio.onStop(e => {});\r\n\r\n\t\t\t//音频播放结束事件\r\n\t\t\tapp.globalData.Audio.onEnded(e => {\r\n\t\t\t\tif (this.canPlay) {\r\n\t\t\t\t\tif (this.firstEnd) {\r\n\t\t\t\t\t\tthis.playNext()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.playFirst()\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tanimationActive(newVal) {\r\n\t\t\t\tif (newVal) {\r\n\t\t\t\t\t// this.textAnimation()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.stopInterval()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcanPlay(newVal) {\r\n\t\t\t\tconsole.log(\"canPlay:\", newVal)\r\n\t\t\t\tif (!newVal) {\r\n\t\t\t\t\tapp.globalData.Audio.pause()\r\n\t\t\t\t\tthis.muted = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.stopInterval()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// city(newVal) {\r\n\t\t\t// \tconsole.log(\"newCity:\", newVal)\r\n\t\t\t// \tthis.getRecommend()\r\n\t\t\t// },\r\n\t\t\tcurrentPlayIndex(newVal) {\r\n\t\t\t\t// 根据不同的职位请求最新的may_ask\r\n\t\t\t\tthis.getMayAsk()\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tapp.globalData.Audio.pause()\r\n\t\t\tthis.muted = true\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclose() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.visible = false\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t_this.$emit(\"close\")\r\n\t\t\t\t}, 800)\r\n\t\t\t\t// this.$emit(\"close\")\r\n\t\t\t},\r\n\t\t\ttoInvite() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/invite/invite\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoChat(type) {\r\n\t\t\t\tthis.clickProject = {\r\n\t\t\t\t\t...this.currentPlay\r\n\t\t\t\t}\r\n\t\t\t\tlet action = type == \"surejob\" ? \"text_want_application\" : (type == \"findjob\" ? \"text_look_for_job\" :\r\n\t\t\t\t\t\"text_interview\")\r\n\t\t\t\tlet jobId = type == \"surejob\" ? this.clickProject.project_id : \"\"\r\n\t\t\t\tlet msg = type == \"surejob\" ? (\"我对\" + this.clickProject.project_name + \"（职位ID：\" + this.clickProject\r\n\t\t\t\t\t.project_id + \"）很感兴趣，能为我介绍一下吗？\") : (type == \"findjob\" ?\r\n\t\t\t\t\t\"我正在找工作，能帮我推荐一些合适的职位吗？\" :\r\n\t\t\t\t\t\"我可以开始面试了，什么时候安排？\")\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tmsg: msg,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tjob_id: jobId,\r\n\t\t\t\t\taction: action,\r\n\t\t\t\t\tname: this.clickProject.project_name ? this.clickProject.project_name : \"\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.close()\r\n\t\t\t\tthis.$emit(\"sendMsg\", obj)\r\n\t\t\t},\r\n\t\t\ttoCall(type) {\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tjob_id: type == \"surejob\" ? this.currentPlay.project_id : \"\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit(\"tocall\", obj)\r\n\t\t\t},\r\n\t\t\tnextStep() {\r\n\t\t\t\tif (this.currentStep < 6) {\r\n\t\t\t\t\tthis.currentStep++\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 存储已阅读新手指引状态\r\n\t\t\t\t\tuni.setStorageSync(\"readsteps\", 1)\r\n\t\t\t\t\tif (this.canPlay) {\r\n\t\t\t\t\t\tthis.playWelcome()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$emit(\"closeStep\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangeNext() {\r\n\t\t\t\tthis.showNext = false\r\n\t\t\t\tlet len = this.recommendList.length\r\n\t\t\t\tif (this.currentPlayIndex == len - 1) {\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tmsg: \"我正在找工作，能帮我推荐一些合适的职位吗？\",\r\n\t\t\t\t\t\ttype: \"\",\r\n\t\t\t\t\t\tjob_id: \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.close()\r\n\t\t\t\t\tthis.$emit(\"sendMsg\", obj)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tapp.globalData.Audio.stop()\r\n\t\t\t\t\tthis.playNext()\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tplayFirst() {\r\n\t\t\t\tthis.firstEnd = true\r\n\t\t\t\tthis.isWelcome = false\r\n\t\t\t\t// app.globalData.Audio.stop()\r\n\t\t\t\tif (this.canPlay && !this.muted) {\r\n\t\t\t\t\tthis.playAudio()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 播放下一个工作\r\n\t\t\tplayNext() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tlet len = this.recommendList.length\r\n\t\t\t\tif (this.currentPlayIndex < len - 1) {\r\n\t\t\t\t\tthis.currentPlayIndex++\r\n\t\t\t\t\tthis.currentPlay = this.recommendList[this.currentPlayIndex]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentPlayIndex = 0\r\n\t\t\t\t\tthis.currentPlay = this.recommendList[this.currentPlayIndex]\r\n\t\t\t\t\tthis.currentPlayIndex++\r\n\t\t\t\t}\r\n\t\t\t\t// this.playAudio()\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tif (_this.canPlay && !_this.muted) {\r\n\t\t\t\t\t\t_this.playAudio()\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, 50)\r\n\r\n\t\t\t},\r\n\t\t\tstopInterval() {\r\n\t\t\t\tif (this.animationTimer) {\r\n\t\t\t\t\tclearInterval(this.animationTimer);\r\n\t\t\t\t\tthis.animationTimer = null;\r\n\t\t\t\t\tthis.scrollTop = 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//控制播放还是暂停音频文件\r\n\t\t\thandleAudio() {\r\n\t\t\t\tthis.$emit(\"openCanPlay\")\r\n\t\t\t\tapp.globalData.Audio.paused ? this.playAudio() : this.pauseAudio();\r\n\t\t\t},\r\n\t\t\t//播放工作音频\r\n\t\t\tplayAudio() {\r\n\t\t\t\tif (this.canPlay) {\r\n\t\t\t\t\tapp.globalData.Audio.src = this.currentPlay.voice;\r\n\t\t\t\t\tapp.globalData.Audio.play();\r\n\t\t\t\t\tthis.muted = false\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t//播放工作音频\r\n\t\t\tplayWelcome() {\r\n\t\t\t\tlet i = Math.floor(Math.random() * this.welcomeVoiceList.length)\r\n\t\t\t\tapp.globalData.Audio.src = this.welcomeVoiceList[i];\r\n\t\t\t\tapp.globalData.Audio.play();\r\n\t\t\t\tthis.muted = false\r\n\t\t\t},\r\n\t\t\t//停止音频\r\n\t\t\tstopAudio() {\r\n\t\t\t\tapp.globalData.Audio.src = '';\r\n\t\t\t\tapp.globalData.Audio.stop();\r\n\t\t\t},\r\n\t\t\t// 暂停音频\r\n\t\t\tpauseAudio() {\r\n\t\t\t\tapp.globalData.Audio.pause()\r\n\t\t\t\tthis.muted = true\r\n\t\t\t},\r\n\t\t\tasync getMayAsk() {\r\n\t\t\t\tlet url = \"/homepage/may_ask/\" + this.currentPlay.project_id\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await this.$request(url)\r\n\t\t\t\t\tthis.currentPlay.may_ask = res.data.list.may_ask\r\n\t\t\t\t\tthis.showNext = true\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (this.mayAskCount < 5) {\r\n\t\t\t\t\t\tthis.getMayAsk()\r\n\t\t\t\t\t\tthis.mayAskCount++\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.mayAskCount = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// this.$request(url).then(res => {\r\n\t\t\t\t// \tif (res.code == 0) {\r\n\t\t\t\t// \t\tthis.currentPlay.may_ask = res.data.list.may_ask\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\tasync getRecommend() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tcity: this.city\r\n\t\t\t\t\t// city: \"眉山\"\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await this.$request(\"/homepage\", data, \"POST\")\r\n\t\t\t\t\tthis.$emit(\"setGreetStatus\")\r\n\t\t\t\t\tif (res.data.list.length > 0) {\r\n\t\t\t\t\t\tthis.currentPlay = res.data.list[0]\r\n\t\t\t\t\t\tthis.recommendList = res.data.list\r\n\t\t\t\t\t\tthis.showSureJob = true\r\n\t\t\t\t\t\tthis.getMayAsk()\r\n\t\t\t\t\t\tif (!this.showUserStep && this.canPlay) {\r\n\t\t\t\t\t\t\tthis.playWelcome()\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$refs.myModal.showModal({\r\n\t\t\t\t\t\t\ttitle: \"暂无推荐职位信息\",\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('An error occurred:', error);\r\n\t\t\t\t\t// 处理错误\r\n\t\t\t\t\tif (_this.reConnectCount < 10) {\r\n\t\t\t\t\t\t_this.reConnectCount++\r\n\t\t\t\t\t\t_this.getRecommend()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"网络超时，请重新进入小程序。\",\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tsuccess(resp) {\r\n\t\t\t\t\t\t\t\tif (resp.confirm) {\r\n\t\t\t\t\t\t\t\t\t_this.reConnectCount = 0\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/role_confirm_page/role_confirm_page'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsendMsg(msg, type) {\r\n\t\t\t\tthis.clickProject = {\r\n\t\t\t\t\t...this.currentPlay\r\n\t\t\t\t}\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tmsg: this.clickProject.project_name + \"（职位id：\" + this.clickProject.project_id + \"）\" + msg,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tjob_id: this.clickProject.project_id,\r\n\t\t\t\t\tname: this.clickProject.project_name\r\n\t\t\t\t}\r\n\t\t\t\tthis.close()\r\n\t\t\t\tthis.$emit(\"sendMsg\", obj)\r\n\t\t\t},\r\n\t\t\ttextAnimation() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t_this.scrollTop = 0\r\n\t\t\t\tif (!this.animationTimer) {\r\n\t\t\t\t\tthis.animationTimer = setInterval(function() {\r\n\t\t\t\t\t\t_this.scrollTop += 2\r\n\t\t\t\t\t}, 300)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\ttouchStart() {\r\n\t\t\t\tthis.animationActive = false\r\n\t\t\t},\r\n\t\t\t// getPosition() {\r\n\t\t\t// \treturn new Promise((resolve, reject) => {\r\n\t\t\t// \t\tlet url = \"https://apis.map.qq.com/ws/location/v1/ip?key=\" + app.globalData.qqMapKey\r\n\t\t\t// \t\tuni.request({\r\n\t\t\t// \t\t\turl: url,\r\n\t\t\t// \t\t\tmethod: \"GET\",\r\n\t\t\t// \t\t\tsuccess(res) {\r\n\t\t\t// \t\t\t\tresolve(res.data.result.ad_info.city)\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\tfail(err) {\r\n\t\t\t// \t\t\t\tconsole.log(err)\r\n\t\t\t// \t\t\t\treject(err)\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t})\r\n\t\t\t// \t})\r\n\r\n\t\t\t// },\r\n\t\t\tscrollLower() {\r\n\t\t\t\tif (this.animationActive) {\r\n\t\t\t\t\tthis.scrollTop = 0\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.broadcast {\r\n\t\tposition: fixed;\r\n\t\tleft: 82rpx;\r\n\t\tbottom: 115rpx;\r\n\t\tz-index: 10000;\r\n\t\tbackground: rgba(0, 0, 0, 0.6);\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tborder-radius: 50%;\r\n\t\ttransition: all 0.5s;\r\n\t\toverflow: hidden;\r\n\t\tborder-radius: 16rpx;\r\n\r\n\t\t.broadcast_inner {\r\n\t\t\twidth: calc(100vw - 56rpx);\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 16%;\r\n\t\t\tleft: 28rpx;\r\n\r\n\t\t\t.close {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tright: 0;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 46rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.top_wrap {\r\n\t\tmargin-top: 42rpx;\r\n\r\n\t\t.tips_wrap {\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\talign-items: flex-start;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.change {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tright: 16rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tborder-bottom: 2rpx dotted #fff;\r\n\t\t\t}\r\n\r\n\t\t\t.tip_list {\r\n\t\t\t\tmax-width: calc(100% - 115rpx);\r\n\r\n\t\t\t\t.item {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tmargin-top: 16rpx;\r\n\r\n\t\t\t\t\t.text {\r\n\t\t\t\t\t\theight: 58rpx;\r\n\t\t\t\t\t\tline-height: 58rpx;\r\n\t\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\t\tborder-radius: 63rpx;\r\n\t\t\t\t\t\tborder: 1rpx solid #D7D9EE;\r\n\t\t\t\t\t\tpadding: 0 40rpx 0 20rpx;\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #213B56;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tip_right {\r\n\t\t\t\t.surein {\r\n\t\t\t\t\tmargin-top: 16rpx;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\t// position: absolute;\r\n\t\t\t\t\t// bottom: 20rpx;\r\n\t\t\t\t\t// right: 20rpx;\r\n\t\t\t\t\twidth: 163rpx;\r\n\t\t\t\t\theight: 58rpx;\r\n\t\t\t\t\tline-height: 58rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\t\t\t\tborder-radius: 29rpx;\r\n\t\t\t\t\t// z-index: 100;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 30rpx;\r\n\t\t\t\t\t\tvertical-align: middle;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\tcolor: #213B56;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.banner {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tposition: relative;\r\n\t\t\tbackground: url($back-ground-url+'/worker/new/banner_bg.png') no-repeat;\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\t// background-position: center top;\r\n\t\t\t// border-bottom-left-radius: 40rpx;\r\n\t\t\t// border-bottom-right-radius: 40rpx;\r\n\t\t\tpadding: 28rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t&>image {\r\n\t\t\t\twidth: 270rpx;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0rpx;\r\n\t\t\t\tright: -20rpx;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t}\r\n\r\n\t\t\t.ban_top {\r\n\t\t\t\twidth: 60%;\r\n\t\t\t\tpadding-bottom: 15rpx;\r\n\t\t\t\tborder-bottom: 2rpx dotted rgba(255, 255, 255, 0.7);\r\n\r\n\t\t\t\t.tit {\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tfont-size: 31rpx;\r\n\t\t\t\t\tcolor: #223756;\r\n\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.salary {\r\n\t\t\t\t\tfont-weight: 900;\r\n\t\t\t\t\tfont-size: 38rpx;\r\n\t\t\t\t\tcolor: #223756;\r\n\t\t\t\t\tfont-family: Arial, Arial;\r\n\r\n\t\t\t\t\t.period {\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tfont-size: 23rpx;\r\n\t\t\t\t\t\tcolor: #223756;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.ban_bot {\r\n\t\t\t\twidth: 54%;\r\n\t\t\t\tpadding-top: 10rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tfont-size: 29rpx;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\tline-height: 46rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.voice_control {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 20rpx;\r\n\t\t\t\tright: 16rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tz-index: 100;\r\n\t\t\t\tfont-size: 0;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcast.vue?vue&type=style&index=0&id=2b2a4596&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcast.vue?vue&type=style&index=0&id=2b2a4596&lang=scss&scoped=true&\""],"sourceRoot":""}