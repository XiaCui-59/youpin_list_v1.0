(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mine"],{"1a4a":function(t,e,a){"use strict";(function(t){var n=a("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("7eb4")),o=n(a("ee10")),r=getApp(),u={data:function(){return{imgUrl:r.globalData.baseImageUrl,pageName:"我的",marginTop:r.globalData.marginTop,tabMargin:r.globalData.tabMargin,avatarHeight:r.globalData.avatarHeight,mineCardHeight:r.globalData.mineCardHeight,mineTop:r.globalData.mineTop,scrollHeight:0,boxTop:0,headerHeight:r.globalData.highTopHeight,maskInnerTop:0,showMask:!1,baseStatus:[{value:"pending",text:"审核中",btnText:""},{value:"approved",text:"已认证",btnText:""},{value:"rejected",text:"认证失败",btnText:"重新认证"}],twoStatus:[{value:"not_uploaded",text:"未上传"},{value:"pending",text:"待审"},{value:"approved",text:"审核通过"},{value:"rejected",text:"审核拒绝"}],info:{gender:"male",id_card_back_image:"",id_card_front_image:"",id_card_number:"",name:"",verified:!1},dataHeight:0,tabbarHeight:0,loginStatus:!1,avatar:""}},components:{tabbar:function(){a.e("components/tabbar").then(function(){return resolve(a("45f0"))}.bind(null,a)).catch(a.oe)},customHeader:function(){a.e("components/custom_header").then(function(){return resolve(a("8f8a"))}.bind(null,a)).catch(a.oe)}},onLoad:function(){this.scrollHeight=r.globalData.systemHeight-this.mineTop-this.tabbarHeight,this.isLogin()&&(this.loginStatus=!0)},onShow:function(){this.isLogin()?(this.loginStatus=!0,this.getInfo()):(this.loginStatus=!1,t.showModal({title:"提示",content:"小程序需登录后才可以正常使用功能哟，马上登录？",confirmText:"去登录",success:function(e){e.confirm?t.navigateTo({url:"/pages/login/login"}):t.switchTab({url:"/pages/work/work"})}}))},methods:{getTabbarHeight:function(t){this.tabbarHeight=t},navigate:function(e){if(-1!=e.indexOf("my_info")||-1!=e.indexOf("my_resume")){var a=-1!=e.indexOf("my_info")?"您还未实名，暂无个人信息，请先实名。":"您还未实名，暂无法填写个人简历，请先实名。";if(!this.info.id_card_number)return void t.showModal({title:"未认证",content:a,confirmText:"立即实名",success:function(e){e.confirm&&t.navigateTo({url:"/subpkg/authentication/authentication"})}})}t.navigateTo({url:e})},openMask:function(t){this.showMask=!0},close:function(){this.showMask=!1},copyLink:function(){var e=this;t.setClipboardData({data:"https://swiftwd.com",success:function(){e.close()}})},getInfo:function(){var e=this;this.$request("/worker/profile").then((function(a){0==a.code&&(e.info=a.data,t.setStorageSync("userInfo",a.data))}))},loadimg:function(e,a){var n=this;return(0,o.default)(i.default.mark((function o(){var u,c;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return u=n,c={Authorization:"bearer "+t.getStorageSync("token"),accept:"application/json","content-type":"multipart/form-data"},i.abrupt("return",new Promise((function(n,i){t.uploadFile({url:r.globalData.baseUrl+"/worker/upload/image?type="+e,filePath:a,name:"file",header:c,success:function(e){var a=JSON.parse(e.data);if(0==a.code){t.showToast({title:"图片上传成功"});var n={avatar:a.data.key};u.$request("/worker/avatar",n,"POST").then((function(e){0==e.code&&(t.showToast({title:"头像更新成功",duration:2e3}),u.getInfo())}))}else t.showModal({title:"上传失败",content:a.msg})},complete:function(){t.hideLoading()}}),n(u.reponsefiles)})));case 3:case"end":return i.stop()}}),o)})))()},getAvatar:function(t){this.loadimg("avatar",t.detail.avatarUrl)}}};e.default=u}).call(this,a("a261")["default"])},"250e":function(t,e,a){"use strict";a.r(e);var n=a("ca81"),i=a("2d84");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("e2b8");var r=a("828b"),u=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"5646e580",null,!1,n["a"],void 0);e["default"]=u.exports},"2a72":function(t,e,a){"use strict";(function(t,e){var n=a("47a9");a("e32d");n(a("3240"));var i=n(a("250e"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(i.default)}).call(this,a("a261")["default"],a("a261")["createPage"])},"2d84":function(t,e,a){"use strict";a.r(e);var n=a("1a4a"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},ca81:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},i=[]},e2b8:function(t,e,a){"use strict";var n=a("fc98"),i=a.n(n);i.a},fc98:function(t,e,a){}},[["2a72","common/runtime","common/vendor"]]]);