(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mine"],{4975:function(t,e,a){},"686e":function(t,e,a){"use strict";(function(t,e){var n=a("47a9");a("417d");n(a("3240"));var o=n(a("a767"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(o.default)}).call(this,a("8fed")["default"],a("8fed")["createPage"])},"91ce":function(t,e,a){"use strict";a.r(e);var n=a("d64a"),o=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},a767:function(t,e,a){"use strict";a.r(e);var n=a("c44a"),o=a("91ce");for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("f468");var r=a("828b"),u=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"582b351c",null,!1,n["a"],void 0);e["default"]=u.exports},c44a:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},o=[]},d64a:function(t,e,a){"use strict";(function(t){var n=a("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("7eb4")),i=n(a("ee10")),r=getApp(),u={data:function(){return{showLogin:!1,imgUrl:r.globalData.baseImageUrl,pageName:"我的",marginTop:r.globalData.marginTop,tabMargin:r.globalData.tabMargin,avatarHeight:r.globalData.avatarHeight,mineCardHeight:r.globalData.mineCardHeight,mineTop:r.globalData.mineTop,scrollHeight:0,boxTop:0,headerHeight:r.globalData.highTopHeight,maskInnerTop:0,showMask:!1,baseStatus:[{value:"pending",text:"审核中",btnText:""},{value:"approved",text:"已认证",btnText:""},{value:"rejected",text:"认证失败",btnText:"重新认证"}],twoStatus:[{value:"not_uploaded",text:"未上传"},{value:"pending",text:"待审"},{value:"approved",text:"审核通过"},{value:"rejected",text:"审核拒绝"}],info:{gender:"male",id_card_back_image:"",id_card_front_image:"",id_card_number:"",name:"",verified:!1},dataHeight:0,tabbarHeight:0,loginStatus:!1,avatar:""}},components:{tabbar:function(){a.e("components/tabbar").then(function(){return resolve(a("0183"))}.bind(null,a)).catch(a.oe)},customHeader:function(){a.e("components/custom_header").then(function(){return resolve(a("eb6c"))}.bind(null,a)).catch(a.oe)}},onLoad:function(){this.scrollHeight=r.globalData.systemHeight-this.mineTop-this.tabbarHeight,this.isLogin()&&(this.loginStatus=!0)},onShow:function(){this.isLogin()?(this.loginStatus=!0,this.getInfo()):(this.loginStatus=!1,this.showLogin=!0)},methods:{closeLogin:function(){this.showLogin=!1,t.switchTab({url:"/pages/work/work"})},getTabbarHeight:function(t){this.tabbarHeight=t},navigate:function(e){t.navigateTo({url:e})},openMask:function(t){this.showMask=!0},close:function(){this.showMask=!1},copyLink:function(){var e=this;t.setClipboardData({data:"https://swiftwd.com",success:function(){e.close()}})},getInfo:function(){var e=this;this.$request("/worker/profile").then((function(a){0==a.code&&(e.info=a.data,t.setStorageSync("userInfo",a.data))}))},loadimg:function(e,a){var n=this;return(0,i.default)(o.default.mark((function i(){var u,s;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return u=n,s={Authorization:"bearer "+t.getStorageSync("token"),accept:"application/json","content-type":"multipart/form-data"},o.abrupt("return",new Promise((function(n,o){t.uploadFile({url:r.globalData.baseUrl+"/worker/upload/image?type="+e,filePath:a,name:"file",header:s,success:function(e){var a=JSON.parse(e.data);if(0==a.code){t.showToast({title:"图片上传成功"});var n={avatar:a.data.key};u.$request("/worker/avatar",n,"POST").then((function(e){0==e.code&&(t.showToast({title:"头像更新成功",duration:2e3}),u.getInfo())}))}else t.showModal({title:"上传失败",content:a.msg})},complete:function(){t.hideLoading()}}),n(u.reponsefiles)})));case 3:case"end":return o.stop()}}),i)})))()},getAvatar:function(t){this.loadimg("avatar",t.detail.avatarUrl)}}};e.default=u}).call(this,a("8fed")["default"])},f468:function(t,e,a){"use strict";var n=a("4975"),o=a.n(n);o.a}},[["686e","common/runtime","common/vendor"]]]);