(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/worker_mine"],{"0699":function(e,n,t){"use strict";t.r(n);var o=t("9175"),a=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=a.a},"1f25":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}));var o={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,"8e7b"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"228d"))},uGrid:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid/u-grid")]).then(t.bind(null,"9afd"))},uGridItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid-item/u-grid-item")]).then(t.bind(null,"7904"))}},a=function(){var e=this,n=e.$createElement,t=(e._self._c,e.gender.filter((function(n){return n.value==e.workerInfo.gender}))),o=t[0]?e.gender.filter((function(n){return n.value==e.workerInfo.gender})):null;e.$mp.data=Object.assign({},{$root:{g0:t,g1:o}})},r=[]},"6cb7":function(e,n,t){"use strict";t.r(n);var o=t("1f25"),a=t("0699");for(var r in a)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(r);t("d4b7");var i=t("828b"),u=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,"22cd2347",null,!1,o["a"],void 0);n["default"]=u.exports},9175:function(e,n,t){"use strict";(function(e,o){var a=t("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("7eb4")),i=a(t("ee10")),u=a(t("7ca3")),c=t("8f59");function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,u.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=getApp(),d={props:["tabbarHeight"],data:function(){return{gender:[{value:"male",text:"男"},{value:"female",text:"女"},{value:"unknown",text:"未知"}],signCount:0,viewCount:0,imgUrl:f.globalData.baseImageUrl,pageName:"我的",marginTop:f.globalData.marginTop,tabMargin:f.globalData.tabMargin,avatar:f.globalData.baseImageUrl+"/broker/com_default.png",menus:[{text:"进群找活",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu01.png",clickType:"navigate",url:"/worker/webview/webview"},{text:"关注公众号",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu02.png",clickType:"public",url:""},{text:"联系客服",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu03.png",clickType:"kefu",url:""},{text:"关于我们",iconUrl:f.globalData.baseImageUrl+"/worker/v_list/ic_mine_menu04.png",clickType:"navigate",url:"/subpkg/about/about"}]}},components:{showBooking:function(){t.e("components/showBooking").then(function(){return resolve(t("6679"))}.bind(null,t)).catch(t.oe)}},created:function(){this.headerHeight=f.globalData.systemHeight*(214/844)},computed:s({},(0,c.mapState)(["workerInfo"])),methods:s(s({},(0,c.mapMutations)(["setToken","setRole","unConnected","unConnecting","closeAnswering","openCansend","closeAnswerContinue"])),{},{getSignList:function(){var e=this;this.$request("/worker/job-applications?page=1&status=all").then((function(n){0==n.code&&(e.signCount=n.data.pagination.total_count)}))},getViewList:function(){var e=this;this.$request("/worker/job-browse-records?page=1").then((function(n){0==n.code&&(e.viewCount=n.data.pagination.total_count)}))},handleMenuClick:function(e){switch(this.menus[e].clickType){case"navigate":this.navigate(this.menus[e].url);break;case"public":this.$refs.book.getCode();break;case"kefu":this.openKefu();break;default:break}},openKefu:function(){e.openCustomerServiceChat({extInfo:{url:"https://work.weixin.qq.com/kfid/kfc01b1c6e379607409"},corpId:"wwe3ced2e65390ad79",success:function(e){},fail:function(e){console.log(e),o.showToast({title:"请稍后重试",icon:"none"})}})},navigate:function(e){o.navigateTo({url:e})},closeLogin:function(){this.showLogin=!1},cancelLogin:function(){console.log("执行了cancel"),this.closeLogin(),o.switchTab({url:"/pages/employer_index/employer_index"})},toRelease:function(){var e=this;this.$refs.myModal.showMyModal({title:"是否确认切换到招人状态？",success:function(n){if("confirm"==n){o.showLoading({title:"切换中"}),o.removeStorageSync("token"),o.removeStorageSync("workerInfo");var t=o.getStorageSync("openid");e.unConnected(),e.unConnecting(),e.closeAnswerContinue(),e.closeAnswering(),e.openCansend();var a={open_id:t};e.$request("/auth/ai-wechat/employer/token",a,"POST").then((function(n){0==n.code?(e.setToken(n.data.token),e.setRole("employer"),o.setStorageSync("token",n.data.token),e.$store.dispatch("getEmployerInfo"),o.reLaunch({url:"/pages/employer_index/employer_index",success:function(e){console.log("跳转成功",e)},fail:function(e){console.log("跳转失败",e)},complete:function(){o.hideLoading()}})):e.$refs.myModal.showMyModal({title:n.msg})}))}}})},logout:function(){this.$refs.myModal.showMyModal({title:"确认退出登录？",success:function(e){"confirm"==e&&(o.setStorageSync("loginStatus","out"),o.switchTab({url:"/pages/worker_index/worker_index"}),o.showToast({title:"已退出登录",icon:"none",duration:2e3}))}})},loadimg:function(e,n){var t=this;return(0,i.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n,"file"),a=t,i={Authorization:"bearer "+o.getStorageSync("token"),accept:"application/json","content-type":"multipart/form-data"},e.abrupt("return",new Promise((function(e,t){o.uploadFile({url:f.globalData.baseUrl+"/worker/upload/image?type=avatar",filePath:n,name:"file",header:i,success:function(e){var n=JSON.parse(e.data);if(0==n.code){o.showToast({title:"图片上传成功"});var t={avatar:n.data.key};a.$request("/worker/avatar",t,"POST").then((function(e){0==e.code&&(o.showToast({title:"头像更新成功",duration:2e3}),a.$store.dispatch("getWorkerInfo"))}))}else o.showModal({title:"上传失败",content:n.msg})},complete:function(){o.hideLoading()}}),e(a.reponsefiles)})));case 4:case"end":return e.stop()}}),e)})))()},getAvatar:function(e){console.log(e),this.loadimg("avatar",e.detail.avatarUrl)}})};n.default=d}).call(this,t("3223")["default"],t("df3c")["default"])},a597:function(e,n,t){},d4b7:function(e,n,t){"use strict";var o=t("a597"),a=t.n(o);a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/worker_mine-create-component',
    {
        'components/worker_mine-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("6cb7"))
        })
    },
    [['components/worker_mine-create-component']]
]);
